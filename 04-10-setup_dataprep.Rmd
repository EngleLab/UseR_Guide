# Data Preparation: Setup

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

## Project Organization

In Chapter 7: Project Organization, we discussed how our projects should be organized. Essentially, there are two types of directories. The **Data Collection** directory, which is where data collection happened as well as data preparation, and **Data Analysis** directories, which is where the stage of data analysis will happen.

These need to be kept separate from one another because in the EngleLab we often conduct these large-scale data collection studies that contain multiple research projects. Therefore, from the **Data Collection** directory we can create various **Data Analysis** directories for each separate research project. 

```{r echo=FALSE, eval = TRUE, out.width='60%', fig.align='center'}
knitr::include_graphics(rep("images/workflows/workflow_relations.png"))
```

Once data collection is finished (or whenever Randy asks for a report on the data), we will need to start *processing* the raw data files. The first step in this processing is to convert the *messy* raw e-prime files into *tidy* (easy to read and work with) raw data files. **This first step of data preparation happens in the Data Collection directory.**

## Setup the Data Collection Directory

Typically the data collection directory will already have been setup. Here is an overview of how you would go about creating a data collection folder and R project.

In Chapter 7, we covered how to setup data collection and data analysis repositories in more detail. Follow these steps to setup the data collection repository.

1. Open RStudio

2. File -> New Project... 

3. New Directory -> Research Study

4. Browse to where the project folder will be located and specify the project folder name

5. Choose Repository Type: data collection

6. Select 'Create Project'

Once you create the R Project, you will see the following directory setup in the "Files" window pane in RStudio. Let's take a little time to understand this setup

```{r echo=FALSE, fig.align='center', out.width='50%', eval = TRUE}
knitr::include_graphics(rep("images/workflows/datacollection_files.png"))
```

- **Data Files**: 

  This is where ALL the data files will be located. Within Data Files there are folders for **Subject Files** and **Merged**. The **Subject Files** are where the individual subject *.edat* files will be stored by task. The **Merged** folder is where E-Merged and exported *.txt* files will be stored. The *.txt* merged files are the "messy" raw data files we need to convert into "tidy" raw data files.

- **Documents**: 

  We can put any documents here related to the study and analysis plan. We might like to put a methods document in here or any articles that are relevant to the tasks used in the study.

- **R Scripts**:

  **ALL R scripts**, with exception of the masterscript, will go in this folder. You should not put R scripts anywhere else!

  Scripts for converting *messy* raw data files to *tidy* raw data files will be labeled with the prefix: **0_**  and contain the suffix: **_raw.R** (e.g. 0_antisaccade_raw.R). The zero denotes that this is an initial data preparation stage and does not necessarily need to be added to an open science repository (shared with other researchers). This is because we are not really changing the data with cleaning/trimming or scoring procedures yet. Just creating raw data files that are easier to work with. 

- **masterscript.R**:

  Rather than opening each R script - running it - then closing out of it, opening the next script - running it - then closing out of it, and so on... you can run all of your R scripts in the masterscript.

- **.Rproj**:

  You only need to interact with this file when opening your R Project. When you want to work on your R project - **YOU SHOULD ALWAYS OPEN RSTUDIO BY OPENING THE .Rproj FILE!!!**


```{r echo=FALSE, message=FALSE, warning=FALSE}
rm(list=ls())
```


