<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R Tutorial and Guide for the EngleLab</title>
  <meta name="description" content="This is an R Tutorial and Guide for the EngleLab">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R Tutorial and Guide for the EngleLab" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an R Tutorial and Guide for the EngleLab" />
  <meta name="github-repo" content="EngleLab" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Tutorial and Guide for the EngleLab" />
  
  <meta name="twitter:description" content="This is an R Tutorial and Guide for the EngleLab" />
  

<meta name="author" content="Jason Tsukahara">


<meta name="date" content="2019-04-27">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="project-organization.html">
<link rel="next" href="workflow-package.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-this-guide"><i class="fa fa-check"></i>How to use this guide</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#workflow"><i class="fa fa-check"></i>Workflow</a></li>
</ul></li>
<li class="part"><span><b>I Getting Started in R</b></span></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a><ul>
<li class="chapter" data-level="1.1" data-path="installation.html"><a href="installation.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.2" data-path="installation.html"><a href="installation.html#installing-r-studio"><i class="fa fa-check"></i><b>1.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="1.3" data-path="installation.html"><a href="installation.html#the-r-studio-environemnt"><i class="fa fa-check"></i><b>1.3</b> The R Studio Environemnt</a></li>
<li class="chapter" data-level="1.4" data-path="installation.html"><a href="installation.html#r-studio-settings"><i class="fa fa-check"></i><b>1.4</b> R Studio Settings</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>2</b> Basic R</a><ul>
<li class="chapter" data-level="2.1" data-path="basic-r.html"><a href="basic-r.html#creating-r-objects"><i class="fa fa-check"></i><b>2.1</b> Creating R objects</a><ul>
<li class="chapter" data-level="2.1.1" data-path="basic-r.html"><a href="basic-r.html#classes"><i class="fa fa-check"></i><b>2.1.1</b> Classes</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic-r.html"><a href="basic-r.html#vectors"><i class="fa fa-check"></i><b>2.1.2</b> Vectors</a></li>
<li class="chapter" data-level="2.1.3" data-path="basic-r.html"><a href="basic-r.html#factors"><i class="fa fa-check"></i><b>2.1.3</b> Factors</a></li>
<li class="chapter" data-level="2.1.4" data-path="basic-r.html"><a href="basic-r.html#lists"><i class="fa fa-check"></i><b>2.1.4</b> Lists</a></li>
<li class="chapter" data-level="2.1.5" data-path="basic-r.html"><a href="basic-r.html#data-frames"><i class="fa fa-check"></i><b>2.1.5</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic-r.html"><a href="basic-r.html#ifthen-statements"><i class="fa fa-check"></i><b>2.2</b> If…then Statements</a></li>
<li class="chapter" data-level="2.3" data-path="basic-r.html"><a href="basic-r.html#r-packages"><i class="fa fa-check"></i><b>2.3</b> R Packages</a><ul>
<li class="chapter" data-level="2.3.1" data-path="basic-r.html"><a href="basic-r.html#installing-and-loading-r-packages"><i class="fa fa-check"></i><b>2.3.1</b> Installing and Loading R Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basic-r.html"><a href="basic-r.html#more-r-basic-resources"><i class="fa fa-check"></i><b>2.4</b> More R Basic Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>3</b> Intermediate R</a><ul>
<li class="chapter" data-level="3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loops"><i class="fa fa-check"></i><b>3.1</b> For Loops</a></li>
<li class="chapter" data-level="3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#creating-your-own-functions"><i class="fa fa-check"></i><b>3.2.1</b> Creating Your Own Functions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Working with Data</b></span></li>
<li class="chapter" data-level="4" data-path="the-tidyverse.html"><a href="the-tidyverse.html"><i class="fa fa-check"></i><b>4</b> The tidyverse</a></li>
<li class="chapter" data-level="5" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html"><i class="fa fa-check"></i><b>5</b> Importing and Outputing Data</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#csv"><i class="fa fa-check"></i><b>5.1</b> CSV</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#import-.csv"><i class="fa fa-check"></i><b>5.1.1</b> Import <code>.csv</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#output-.csv"><i class="fa fa-check"></i><b>5.1.2</b> Output <code>.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#tab-delimited"><i class="fa fa-check"></i><b>5.2</b> Tab-Delimited</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#import-.txt"><i class="fa fa-check"></i><b>5.2.1</b> Import <code>.txt</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#output-.txt"><i class="fa fa-check"></i><b>5.2.2</b> Output <code>.txt</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#spss"><i class="fa fa-check"></i><b>5.3</b> SPSS</a><ul>
<li class="chapter" data-level="5.3.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#import-.sav"><i class="fa fa-check"></i><b>5.3.1</b> Import <code>.sav</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#output-.sav"><i class="fa fa-check"></i><b>5.3.2</b> Output <code>.sav</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#rstudio-import-gui"><i class="fa fa-check"></i><b>5.4</b> RStudio Import GUI</a></li>
<li class="chapter" data-level="5.5" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#merging-data-files"><i class="fa fa-check"></i><b>5.5</b> Merging Data Files</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html"><i class="fa fa-check"></i><b>6</b> Data Manipulation using <code>dplyr</code></a><ul>
<li class="chapter" data-level="6.1" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#setup"><i class="fa fa-check"></i><b>6.1</b> Setup</a></li>
<li class="chapter" data-level="6.2" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#import"><i class="fa fa-check"></i><b>6.2</b> Import</a></li>
<li class="chapter" data-level="6.3" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#rename"><i class="fa fa-check"></i><b>6.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="6.4" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#filter"><i class="fa fa-check"></i><b>6.4</b> <code>filter()</code></a></li>
<li class="chapter" data-level="6.5" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#select"><i class="fa fa-check"></i><b>6.5</b> <code>select()</code></a></li>
<li class="chapter" data-level="6.6" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#mutate"><i class="fa fa-check"></i><b>6.6</b> <code>mutate()</code></a><ul>
<li class="chapter" data-level="6.6.1" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#changing-values-in-an-existing-column"><i class="fa fa-check"></i><b>6.6.1</b> Changing values in an existing column</a></li>
<li class="chapter" data-level="6.6.2" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#creating-a-new-column"><i class="fa fa-check"></i><b>6.6.2</b> Creating a new column</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#group_by"><i class="fa fa-check"></i><b>6.7</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="6.8" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#summarise"><i class="fa fa-check"></i><b>6.8</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="6.9" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#spread"><i class="fa fa-check"></i><b>6.9</b> <code>spread()</code></a></li>
<li class="chapter" data-level="6.10" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#pipe-operator"><i class="fa fa-check"></i><b>6.10</b> Pipe Operator %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html"><i class="fa fa-check"></i><b>7</b> Common Data Manipulations</a><ul>
<li class="chapter" data-level="7.1" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#descriptive-statistics"><i class="fa fa-check"></i><b>7.1</b> Descriptive Statistics</a></li>
<li class="chapter" data-level="7.2" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#centering-and-standardizing-variables"><i class="fa fa-check"></i><b>7.2</b> Centering and Standardizing Variables</a></li>
<li class="chapter" data-level="7.3" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#trimming"><i class="fa fa-check"></i><b>7.3</b> Trimming</a></li>
<li class="chapter" data-level="7.4" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#composites"><i class="fa fa-check"></i><b>7.4</b> Composites</a></li>
<li class="chapter" data-level="7.5" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#scale-transformations"><i class="fa fa-check"></i><b>7.5</b> Scale Transformations</a><ul>
<li class="chapter" data-level="7.5.1" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#log"><i class="fa fa-check"></i><b>7.5.1</b> log</a></li>
<li class="chapter" data-level="7.5.2" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#polynomial"><i class="fa fa-check"></i><b>7.5.2</b> polynomial</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#custom-transformations"><i class="fa fa-check"></i><b>7.6</b> Custom Transformations</a></li>
</ul></li>
<li class="part"><span><b>III Example: Data Preparation</b></span></li>
<li class="chapter" data-level="8" data-path="example-data-set.html"><a href="example-data-set.html"><i class="fa fa-check"></i><b>8</b> Example Data Set</a><ul>
<li class="chapter" data-level="8.1" data-path="example-data-set.html"><a href="example-data-set.html#initial-setup"><i class="fa fa-check"></i><b>8.1</b> Initial Setup</a><ul>
<li class="chapter" data-level="8.1.1" data-path="example-data-set.html"><a href="example-data-set.html#rstudio-project"><i class="fa fa-check"></i><b>8.1.1</b> RStudio Project</a></li>
<li class="chapter" data-level="8.1.2" data-path="example-data-set.html"><a href="example-data-set.html#directory-organization"><i class="fa fa-check"></i><b>8.1.2</b> Directory Organization</a></li>
<li class="chapter" data-level="8.1.3" data-path="example-data-set.html"><a href="example-data-set.html#r-scripts"><i class="fa fa-check"></i><b>8.1.3</b> R Scripts</a></li>
<li class="chapter" data-level="8.1.4" data-path="example-data-set.html"><a href="example-data-set.html#masterscript"><i class="fa fa-check"></i><b>8.1.4</b> Masterscript</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="example-data-set.html"><a href="example-data-set.html#example-data-flanker-task"><i class="fa fa-check"></i><b>8.2</b> Example Data: Flanker Task</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="merging-individual-subject-files.html"><a href="merging-individual-subject-files.html"><i class="fa fa-check"></i><b>9</b> Merging Individual Subject Files</a><ul>
<li class="chapter" data-level="9.1" data-path="merging-individual-subject-files.html"><a href="merging-individual-subject-files.html#setup-1"><i class="fa fa-check"></i><b>9.1</b> Setup</a></li>
<li class="chapter" data-level="9.2" data-path="merging-individual-subject-files.html"><a href="merging-individual-subject-files.html#files_bind"><i class="fa fa-check"></i><b>9.2</b> <code>files_bind()</code></a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html"><i class="fa fa-check"></i><b>10</b> Messy to Tidy</a><ul>
<li class="chapter" data-level="10.1" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#setup-2"><i class="fa fa-check"></i><b>10.1</b> Setup</a><ul>
<li class="chapter" data-level="10.1.1" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#load-packages"><i class="fa fa-check"></i><b>10.1.1</b> Load packages</a></li>
<li class="chapter" data-level="10.1.2" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#set-importoutput-directories"><i class="fa fa-check"></i><b>10.1.2</b> Set Import/Output Directories</a></li>
<li class="chapter" data-level="10.1.3" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#set-importoutput-file-names"><i class="fa fa-check"></i><b>10.1.3</b> Set Import/Output File Names</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#import-1"><i class="fa fa-check"></i><b>10.2</b> Import</a></li>
<li class="chapter" data-level="10.3" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#tidy-raw-data"><i class="fa fa-check"></i><b>10.3</b> Tidy raw data</a><ul>
<li class="chapter" data-level="10.3.1" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#filter-1"><i class="fa fa-check"></i><b>10.3.1</b> Filter</a></li>
<li class="chapter" data-level="10.3.2" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#rename-columns"><i class="fa fa-check"></i><b>10.3.2</b> Rename Columns</a></li>
<li class="chapter" data-level="10.3.3" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#change-values"><i class="fa fa-check"></i><b>10.3.3</b> Change Values</a></li>
<li class="chapter" data-level="10.3.4" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#select-columns"><i class="fa fa-check"></i><b>10.3.4</b> Select Columns</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#output"><i class="fa fa-check"></i><b>10.4</b> Output</a></li>
<li class="chapter" data-level="10.5" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#copy-and-paste"><i class="fa fa-check"></i><b>10.5</b> Copy and Paste</a></li>
<li class="chapter" data-level="10.6" data-path="messy-to-tidy.html"><a href="messy-to-tidy.html#masterscript-1"><i class="fa fa-check"></i><b>10.6</b> Masterscript</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html"><i class="fa fa-check"></i><b>11</b> Data Cleaning and Scoring</a><ul>
<li class="chapter" data-level="11.1" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#setup-3"><i class="fa fa-check"></i><b>11.1</b> Setup</a><ul>
<li class="chapter" data-level="11.1.1" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#data-cleaning-parameters"><i class="fa fa-check"></i><b>11.1.1</b> Data Cleaning Parameters</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#import-2"><i class="fa fa-check"></i><b>11.2</b> Import</a></li>
<li class="chapter" data-level="11.3" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#data-cleaning-and-scoring-1"><i class="fa fa-check"></i><b>11.3</b> Data Cleaning and Scoring</a></li>
<li class="chapter" data-level="11.4" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#trimming-1"><i class="fa fa-check"></i><b>11.4</b> Trimming</a></li>
<li class="chapter" data-level="11.5" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#calculate-flankereffect"><i class="fa fa-check"></i><b>11.5</b> Calculate FlankerEffect</a></li>
<li class="chapter" data-level="11.6" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#remove-subjects"><i class="fa fa-check"></i><b>11.6</b> Remove Subjects</a></li>
<li class="chapter" data-level="11.7" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#calculate-binned-scores"><i class="fa fa-check"></i><b>11.7</b> Calculate Binned Scores</a></li>
<li class="chapter" data-level="11.8" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#merge"><i class="fa fa-check"></i><b>11.8</b> Merge</a></li>
<li class="chapter" data-level="11.9" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#save-data-file"><i class="fa fa-check"></i><b>11.9</b> Save data file</a></li>
<li class="chapter" data-level="11.10" data-path="data-cleaning-and-scoring.html"><a href="data-cleaning-and-scoring.html#masterscript-2"><i class="fa fa-check"></i><b>11.10</b> Masterscript</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="merge-create-a-final-data-file.html"><a href="merge-create-a-final-data-file.html"><i class="fa fa-check"></i><b>12</b> Merge: Create A Final Data File</a><ul>
<li class="chapter" data-level="12.1" data-path="merge-create-a-final-data-file.html"><a href="merge-create-a-final-data-file.html#setup-4"><i class="fa fa-check"></i><b>12.1</b> Setup</a></li>
<li class="chapter" data-level="12.2" data-path="merge-create-a-final-data-file.html"><a href="merge-create-a-final-data-file.html#merge-1"><i class="fa fa-check"></i><b>12.2</b> Merge</a></li>
<li class="chapter" data-level="12.3" data-path="merge-create-a-final-data-file.html"><a href="merge-create-a-final-data-file.html#select-and-trim"><i class="fa fa-check"></i><b>12.3</b> Select and Trim</a></li>
<li class="chapter" data-level="12.4" data-path="merge-create-a-final-data-file.html"><a href="merge-create-a-final-data-file.html#output-1"><i class="fa fa-check"></i><b>12.4</b> Output</a></li>
<li class="chapter" data-level="12.5" data-path="merge-create-a-final-data-file.html"><a href="merge-create-a-final-data-file.html#masterscript-3"><i class="fa fa-check"></i><b>12.5</b> Masterscript</a></li>
</ul></li>
<li class="part"><span><b>IV Data Science Practices</b></span></li>
<li class="chapter" data-level="13" data-path="reproducibility.html"><a href="reproducibility.html"><i class="fa fa-check"></i><b>13</b> Reproducibility</a><ul>
<li class="chapter" data-level="13.1" data-path="reproducibility.html"><a href="reproducibility.html#what-is-real"><i class="fa fa-check"></i><b>13.1</b> What is real?</a></li>
<li class="chapter" data-level="13.2" data-path="reproducibility.html"><a href="reproducibility.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>13.2</b> Where does your analysis live?</a><ul>
<li class="chapter" data-level="13.2.1" data-path="reproducibility.html"><a href="reproducibility.html#project-level"><i class="fa fa-check"></i><b>13.2.1</b> Project Level</a></li>
<li class="chapter" data-level="13.2.2" data-path="reproducibility.html"><a href="reproducibility.html#script-level"><i class="fa fa-check"></i><b>13.2.2</b> Script Level</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="project-organization.html"><a href="project-organization.html"><i class="fa fa-check"></i><b>14</b> Project Organization</a><ul>
<li class="chapter" data-level="14.1" data-path="project-organization.html"><a href="project-organization.html#the-working-directory"><i class="fa fa-check"></i><b>14.1</b> The Working Directory</a><ul>
<li class="chapter" data-level="14.1.1" data-path="project-organization.html"><a href="project-organization.html#r-projects"><i class="fa fa-check"></i><b>14.1.1</b> R Projects</a></li>
<li class="chapter" data-level="14.1.2" data-path="project-organization.html"><a href="project-organization.html#herehere"><i class="fa fa-check"></i><b>14.1.2</b> here::here()</a></li>
<li class="chapter" data-level="14.1.3" data-path="project-organization.html"><a href="project-organization.html#rstudio-sessions"><i class="fa fa-check"></i><b>14.1.3</b> RStudio Sessions</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="project-organization.html"><a href="project-organization.html#loaded-packages"><i class="fa fa-check"></i><b>14.2</b> Loaded Packages</a></li>
<li class="chapter" data-level="14.3" data-path="project-organization.html"><a href="project-organization.html#objects"><i class="fa fa-check"></i><b>14.3</b> Objects</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="using-script-templates.html"><a href="using-script-templates.html"><i class="fa fa-check"></i><b>15</b> Using Script Templates</a><ul>
<li class="chapter" data-level="15.1" data-path="using-script-templates.html"><a href="using-script-templates.html#building-a-template-workflow"><i class="fa fa-check"></i><b>15.1</b> Building a Template Workflow</a></li>
<li class="chapter" data-level="15.2" data-path="using-script-templates.html"><a href="using-script-templates.html#the-masterscript.r"><i class="fa fa-check"></i><b>15.2</b> The <code>masterscript.R</code></a></li>
<li class="chapter" data-level="15.3" data-path="using-script-templates.html"><a href="using-script-templates.html#folder-organization"><i class="fa fa-check"></i><b>15.3</b> Folder Organization</a></li>
<li class="chapter" data-level="15.4" data-path="using-script-templates.html"><a href="using-script-templates.html#naming-r-scripts"><i class="fa fa-check"></i><b>15.4</b> Naming R Scripts</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="workflow-package.html"><a href="workflow-package.html"><i class="fa fa-check"></i><b>16</b> <code>workflow</code> Package</a><ul>
<li class="chapter" data-level="16.1" data-path="workflow-package.html"><a href="workflow-package.html#start-a-new-research-study"><i class="fa fa-check"></i><b>16.1</b> Start a new research study</a><ul>
<li class="chapter" data-level="16.1.1" data-path="workflow-package.html"><a href="workflow-package.html#directory"><i class="fa fa-check"></i><b>16.1.1</b> Directory</a></li>
<li class="chapter" data-level="16.1.2" data-path="workflow-package.html"><a href="workflow-package.html#additional-options"><i class="fa fa-check"></i><b>16.1.2</b> Additional Options</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="workflow-package.html"><a href="workflow-package.html#download-ready-made-templates"><i class="fa fa-check"></i><b>16.2</b> Download ready-made templates</a><ul>
<li class="chapter" data-level="16.2.1" data-path="workflow-package.html"><a href="workflow-package.html#generic-templates"><i class="fa fa-check"></i><b>16.2.1</b> Generic Templates</a></li>
<li class="chapter" data-level="16.2.2" data-path="workflow-package.html"><a href="workflow-package.html#gf-wmc-and-attention-control-scripts"><i class="fa fa-check"></i><b>16.2.2</b> Gf, WMC, and Attention Control Scripts</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V Data Ananlysis</b></span></li>
<li class="chapter" data-level="17" data-path="introduction-to-data-analysis.html"><a href="introduction-to-data-analysis.html"><i class="fa fa-check"></i><b>17</b> Introduction to Data Analysis</a><ul>
<li class="chapter" data-level="17.1" data-path="introduction-to-data-analysis.html"><a href="introduction-to-data-analysis.html#r-markdown"><i class="fa fa-check"></i><b>17.1</b> R Markdown</a><ul>
<li class="chapter" data-level="17.1.1" data-path="introduction-to-data-analysis.html"><a href="introduction-to-data-analysis.html#what-is-an-r-markdown-file"><i class="fa fa-check"></i><b>17.1.1</b> What is an R Markdown File?</a></li>
<li class="chapter" data-level="17.1.2" data-path="introduction-to-data-analysis.html"><a href="introduction-to-data-analysis.html#yaml-header"><i class="fa fa-check"></i><b>17.1.2</b> YAML header</a></li>
<li class="chapter" data-level="17.1.3" data-path="introduction-to-data-analysis.html"><a href="introduction-to-data-analysis.html#r-code-chunks"><i class="fa fa-check"></i><b>17.1.3</b> R code chunks</a></li>
<li class="chapter" data-level="17.1.4" data-path="introduction-to-data-analysis.html"><a href="introduction-to-data-analysis.html#formatted-text"><i class="fa fa-check"></i><b>17.1.4</b> Formatted text</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>– Data Visualization</b></span></li>
<li class="chapter" data-level="18" data-path="fundamentals-of-data-visualization.html"><a href="fundamentals-of-data-visualization.html"><i class="fa fa-check"></i><b>18</b> Fundamentals of Data Visualization</a><ul>
<li class="chapter" data-level="18.1" data-path="fundamentals-of-data-visualization.html"><a href="fundamentals-of-data-visualization.html#grammar-of-graphics"><i class="fa fa-check"></i><b>18.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="18.2" data-path="fundamentals-of-data-visualization.html"><a href="fundamentals-of-data-visualization.html#plotting-functions-in-r"><i class="fa fa-check"></i><b>18.2</b> Plotting Functions in R</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>19</b> Introduction to ggplot2</a><ul>
<li class="chapter" data-level="19.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#grammar-of-graphics-1"><i class="fa fa-check"></i><b>19.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="19.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#data-layer"><i class="fa fa-check"></i><b>19.2</b> Data layer</a></li>
<li class="chapter" data-level="19.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#aesthetic-layer"><i class="fa fa-check"></i><b>19.3</b> Aesthetic Layer</a></li>
<li class="chapter" data-level="19.4" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#geometries-layer"><i class="fa fa-check"></i><b>19.4</b> Geometries Layer</a></li>
<li class="chapter" data-level="19.5" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#facets-layer"><i class="fa fa-check"></i><b>19.5</b> Facets Layer</a></li>
<li class="chapter" data-level="19.6" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#statistics-layer"><i class="fa fa-check"></i><b>19.6</b> Statistics Layer</a></li>
<li class="chapter" data-level="19.7" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>19.7</b> Coordinates Layer</a></li>
<li class="chapter" data-level="19.8" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#themes-layer"><i class="fa fa-check"></i><b>19.8</b> Themes Layer</a><ul>
<li class="chapter" data-level="19.8.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#built-in-themes"><i class="fa fa-check"></i><b>19.8.1</b> Built-in Themes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="scatterplots.html"><a href="scatterplots.html"><i class="fa fa-check"></i><b>20</b> Scatterplots</a><ul>
<li class="chapter" data-level="20.1" data-path="scatterplots.html"><a href="scatterplots.html#scatterplots-1"><i class="fa fa-check"></i><b>20.1</b> Scatterplots</a><ul>
<li class="chapter" data-level="20.1.1" data-path="scatterplots.html"><a href="scatterplots.html#adding-other-geoms"><i class="fa fa-check"></i><b>20.1.1</b> Adding other geoms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="plotting-means.html"><a href="plotting-means.html"><i class="fa fa-check"></i><b>21</b> Plotting Means</a><ul>
<li class="chapter" data-level="21.1" data-path="plotting-means.html"><a href="plotting-means.html#bar-graphs"><i class="fa fa-check"></i><b>21.1</b> Bar Graphs</a><ul>
<li class="chapter" data-level="21.1.1" data-path="plotting-means.html"><a href="plotting-means.html#multidimensional-bar-plot"><i class="fa fa-check"></i><b>21.1.1</b> Multidimensional Bar Plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="univariate-plots.html"><a href="univariate-plots.html"><i class="fa fa-check"></i><b>22</b> Univariate Plots</a></li>
<li class="chapter" data-level="23" data-path="sjplot.html"><a href="sjplot.html"><i class="fa fa-check"></i><b>23</b> <code>sjPlot</code></a></li>
<li class="chapter" data-level="24" data-path="custom-tables.html"><a href="custom-tables.html"><i class="fa fa-check"></i><b>24</b> Custom Tables</a></li>
<li class="part"><span><b>* Statistical Analysis</b></span></li>
<li class="chapter" data-level="25" data-path="introduction-to-statistical-analysis-in-r.html"><a href="introduction-to-statistical-analysis-in-r.html"><i class="fa fa-check"></i><b>25</b> Introduction to Statistical Analysis in R</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Tutorial and Guide for the EngleLab</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="using-script-templates" class="section level1">
<h1><span class="header-section-number">Chapter 15</span> Using Script Templates</h1>
<p>This is the workflow process of getting from “messy” raw data files to beautiful looking output of figures and statistical analyses.</p>
<div id="building-a-template-workflow" class="section level2">
<h2><span class="header-section-number">15.1</span> Building a Template Workflow</h2>
<p>Steps <strong>1</strong> and <strong>2</strong> are all about transforming data files to create a final output file that is ready for statistical analysis. Every R script you create for steps 1 and 2 will - import a file -&gt; do stuff to the dataframe -&gt; output a saved file, <strong>no more, and no less</strong>. The general workdflow in every script will look like</p>
<ol style="list-style-type: decimal">
<li><p><strong>Setup</strong> the script by loading required packages using <code>library()</code></p></li>
<li><p><strong>Import</strong> data file using <code>read_delim()</code> or <code>read_csv()</code> from the <code>readr</code> package or <code>read_sav()</code> from <code>haven</code></p></li>
<li><p><strong>Do stuff</strong> to the imported dataframe using <code>dplyr</code> functions, such as</p>
<p><code>filter()</code>, <code>select()</code>, <code>group_by()</code>, <code>mutate()</code>, and <code>summarise()</code></p></li>
<li><p><strong>Save</strong> dataframe to a file using <code>write_csv()</code> from <code>readr</code> or <code>write_sav()</code> from <code>haven</code></p></li>
<li><p><strong>Remove</strong> objects and functions with <code>rm(list=ls())</code></p></li>
</ol>
<p>Honestly there is not much more to it then that. And because your R scripts for steps 1 and 2 have the same workflow process this makes it very easy to implement a standard organization in your scripts.</p>
<p><strong>It is good practice to load required packages at the top of your R script</strong>.</p>
<p>After loading any required packages <strong>it is good practice to assign the import and output file path directories and file names to an object at the top of your script</strong>. I use the same object name for the import file path and output file path in every R script I write. This does a couple of things:</p>
<ol style="list-style-type: decimal">
<li><p>You can easily see what the import and output directories are for an R script since it occurs at the top and in the same location with the same names for every R script.</p></li>
<li><p>You can use the exact same or nearly the same <code>read_csv()</code> and <code>write_csv()</code> lines of code for every R script. Just copy and paste. This allow you to focus on writing the meat of the R script - the <strong>Do stuff</strong> step in the general workfolow process.</p></li>
</ol>
<p>A template R script might look something like</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1"><span class="co">## Set up ####</span></a>
<a class="sourceLine" id="cb217-2" data-line-number="2"><span class="co">## Load required packages</span></a>
<a class="sourceLine" id="cb217-3" data-line-number="3"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb217-4" data-line-number="4"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb217-5" data-line-number="5"></a>
<a class="sourceLine" id="cb217-6" data-line-number="6"><span class="co">## Set import and output directories</span></a>
<a class="sourceLine" id="cb217-7" data-line-number="7">import.dir &lt;-<span class="st"> &quot;data/import&quot;</span></a>
<a class="sourceLine" id="cb217-8" data-line-number="8">output.dir &lt;-<span class="st"> &quot;data/output&quot;</span></a>
<a class="sourceLine" id="cb217-9" data-line-number="9"></a>
<a class="sourceLine" id="cb217-10" data-line-number="10"><span class="co">## Set import and output file names</span></a>
<a class="sourceLine" id="cb217-11" data-line-number="11">import.file &lt;-<span class="st"> &quot;task.csv&quot;</span></a>
<a class="sourceLine" id="cb217-12" data-line-number="12">output.file &lt;-<span class="st"> &quot;task_Scores.csv&quot;</span></a>
<a class="sourceLine" id="cb217-13" data-line-number="13"><span class="co">##############</span></a>
<a class="sourceLine" id="cb217-14" data-line-number="14"></a>
<a class="sourceLine" id="cb217-15" data-line-number="15"><span class="co">## Import data</span></a>
<a class="sourceLine" id="cb217-16" data-line-number="16">import &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">here</span>(import.dir, import.file))</a>
<a class="sourceLine" id="cb217-17" data-line-number="17"></a>
<a class="sourceLine" id="cb217-18" data-line-number="18"><span class="co">## Do Stuff</span></a>
<a class="sourceLine" id="cb217-19" data-line-number="19">data &lt;-<span class="st"> </span>import <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb217-20" data-line-number="20"><span class="st">  </span><span class="kw">filter</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb217-21" data-line-number="21"><span class="st">  </span><span class="kw">group_by</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb217-22" data-line-number="22"><span class="st">  </span><span class="kw">mutate</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb217-23" data-line-number="23"><span class="st">  </span><span class="kw">select</span>()</a>
<a class="sourceLine" id="cb217-24" data-line-number="24"></a>
<a class="sourceLine" id="cb217-25" data-line-number="25"><span class="co">## Save data</span></a>
<a class="sourceLine" id="cb217-26" data-line-number="26"><span class="kw">write_csv</span>(data, <span class="dt">path =</span> <span class="kw">here</span>(ouptut.dir, output.file), <span class="dt">na =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb217-27" data-line-number="27"></a>
<a class="sourceLine" id="cb217-28" data-line-number="28"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())</a></code></pre></div>
<p>Notice how I use comments to help organize the R script. <code>#</code> is how you can insert comments in the script. You can even have a hierchical structure in your comments where it will allow you to “fold” chunks of code. This is helpful if your R script is getting really long and you would like to temporarily hide chunks of code.</p>
<p>To do this you need to have a certain number of <code>#</code> at the top of the code chunk. See how I use four <code>####</code> after the <code>## Set up</code> comment. Four <code>#</code>s is usually enough. Then at the end of the code chunk I place a bunch more <code>#########</code>. You can put as many as you want, but usually 5 is enough. I like to make it the same length as the the top of the code chunk.</p>
<p>Every R script you write can have this same layout. That is, everything on the “left” side (of the assignment operator <code>&lt;-</code>) can stay the exactly same. Whereas what happens on the “right” side depends on what data file you are working with. But even what is happening on the “right” side is similar and may only require the <code>readr</code> and <code>dplyr</code> packages.</p>
</div>
<div id="the-masterscript.r" class="section level2">
<h2><span class="header-section-number">15.2</span> The <code>masterscript.R</code></h2>
<p>For a given reaserch project you will have multiple R Scripts to go from raw data to statistical analysis. I like to use a masterscript that runs multiple R scripts one after another. In our lab we often times have many many tasks that we need to analyze data from. Well it can get a little crazy trying to keep all the R scripts organized and running the scripts in the correct order. Using a masterscript can help with this and save considerable time.</p>
<p>The <code>source()</code> function will execute all the lines of code in an R script. You simply specify the file path of the R script, such as <code>source(&quot;scripts/A_script.R&quot;)</code>.</p>
<p>The <code>render()</code> function will execute all the lines of code in an RMarkdown document that contains statistical analyses. You will learn more about these in <strong>Section III</strong>.</p>
<p>I like to also create an object called <code>directories</code> that contains a list of the relative file paths (from the working directory). This can then be used in the individual R Script files.</p>
<p>A typical masterscript of mine will look like</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1"><span class="co">## Setup ####</span></a>
<a class="sourceLine" id="cb218-2" data-line-number="2"><span class="co">## Load Packages</span></a>
<a class="sourceLine" id="cb218-3" data-line-number="3"><span class="kw">library</span>(here)</a>
<a class="sourceLine" id="cb218-4" data-line-number="4"><span class="kw">library</span>(rmarkdown)</a>
<a class="sourceLine" id="cb218-5" data-line-number="5"></a>
<a class="sourceLine" id="cb218-6" data-line-number="6"><span class="co">## Specify the directory tree</span></a>
<a class="sourceLine" id="cb218-7" data-line-number="7">directories &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">scripts =</span> <span class="st">&quot;R Scripts&quot;</span>,</a>
<a class="sourceLine" id="cb218-8" data-line-number="8">                    <span class="dt">data =</span> <span class="st">&quot;Data Files&quot;</span>,</a>
<a class="sourceLine" id="cb218-9" data-line-number="9">                    <span class="dt">raw =</span> <span class="st">&quot;Data Files/Raw Data&quot;</span>,</a>
<a class="sourceLine" id="cb218-10" data-line-number="10">                    <span class="dt">messy =</span> <span class="st">&quot;Data Files/Raw Data/E-Merge&quot;</span>,</a>
<a class="sourceLine" id="cb218-11" data-line-number="11">                    <span class="dt">scored =</span> <span class="st">&quot;Data Files/Scored Data&quot;</span>,</a>
<a class="sourceLine" id="cb218-12" data-line-number="12">                    <span class="dt">results =</span> <span class="st">&quot;Results&quot;</span>)</a>
<a class="sourceLine" id="cb218-13" data-line-number="13"></a>
<a class="sourceLine" id="cb218-14" data-line-number="14"><span class="kw">saveRDS</span>(directories, <span class="kw">here</span>(<span class="st">&quot;directories.rds&quot;</span>))</a>
<a class="sourceLine" id="cb218-15" data-line-number="15"><span class="kw">rm</span>(directories)</a>
<a class="sourceLine" id="cb218-16" data-line-number="16"><span class="co">#############</span></a>
<a class="sourceLine" id="cb218-17" data-line-number="17"></a>
<a class="sourceLine" id="cb218-18" data-line-number="18"><span class="co">#############################################</span></a>
<a class="sourceLine" id="cb218-19" data-line-number="19"><span class="co">#------ 1. &quot;messy&quot; to &quot;tidy&quot; raw data ------# </span></a>
<a class="sourceLine" id="cb218-20" data-line-number="20"><span class="co">#############################################</span></a>
<a class="sourceLine" id="cb218-21" data-line-number="21"></a>
<a class="sourceLine" id="cb218-22" data-line-number="22"><span class="kw">source</span>(<span class="kw">here</span>(<span class="st">&quot;R Scripts&quot;</span>, <span class="st">&quot;1_[taskname1]_raw.R&quot;</span>), <span class="dt">echo =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb218-23" data-line-number="23"><span class="kw">source</span>(<span class="kw">here</span>(<span class="st">&quot;R Scripts&quot;</span>, <span class="st">&quot;1_[taskname2]_raw.R&quot;</span>), <span class="dt">echo =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb218-24" data-line-number="24"></a>
<a class="sourceLine" id="cb218-25" data-line-number="25"><span class="co">#################################################</span></a>
<a class="sourceLine" id="cb218-26" data-line-number="26"><span class="co">#------ 2. &quot;tidy&quot; raw data to Scored data ------# </span></a>
<a class="sourceLine" id="cb218-27" data-line-number="27"><span class="co">#################################################</span></a>
<a class="sourceLine" id="cb218-28" data-line-number="28"></a>
<a class="sourceLine" id="cb218-29" data-line-number="29"><span class="co">## Score task data from raw data files</span></a>
<a class="sourceLine" id="cb218-30" data-line-number="30"><span class="kw">source</span>(<span class="kw">here</span>(<span class="st">&quot;R Scripts&quot;</span>, <span class="st">&quot;2_[taskname1]_score.R&quot;</span>), <span class="dt">echo=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb218-31" data-line-number="31"><span class="kw">source</span>(<span class="kw">here</span>(<span class="st">&quot;R Scripts&quot;</span>, <span class="st">&quot;2_[taskname2]_score.R&quot;</span>), <span class="dt">echo=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb218-32" data-line-number="32"></a>
<a class="sourceLine" id="cb218-33" data-line-number="33"><span class="co">#############################################################</span></a>
<a class="sourceLine" id="cb218-34" data-line-number="34"><span class="co">#------ 3. Create Final Merged Data File for Analysis ------# </span></a>
<a class="sourceLine" id="cb218-35" data-line-number="35"><span class="co">#############################################################</span></a>
<a class="sourceLine" id="cb218-36" data-line-number="36"></a>
<a class="sourceLine" id="cb218-37" data-line-number="37"><span class="kw">source</span>(<span class="kw">here</span>(<span class="st">&quot;R Scripts&quot;</span>, <span class="st">&quot;3_merge.R&quot;</span>), <span class="dt">echo=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb218-38" data-line-number="38"></a>
<a class="sourceLine" id="cb218-39" data-line-number="39"><span class="co">###############################</span></a>
<a class="sourceLine" id="cb218-40" data-line-number="40"><span class="co">#------ 4. Descriptives ------# </span></a>
<a class="sourceLine" id="cb218-41" data-line-number="41"><span class="co">###############################</span></a>
<a class="sourceLine" id="cb218-42" data-line-number="42"></a>
<a class="sourceLine" id="cb218-43" data-line-number="43"><span class="kw">render</span>(<span class="kw">here</span>(<span class="st">&quot;R Scripts&quot;</span>, <span class="st">&quot;4_Descriptives.Rmd&quot;</span>), </a>
<a class="sourceLine" id="cb218-44" data-line-number="44">       <span class="dt">output_dir =</span> <span class="kw">here</span>(<span class="st">&quot;Results&quot;</span>), <span class="dt">output_file =</span> <span class="st">&quot;Descriptives.html&quot;</span>,</a>
<a class="sourceLine" id="cb218-45" data-line-number="45">       <span class="dt">params =</span> <span class="kw">list</span>(<span class="dt">data =</span> <span class="kw">here</span>(<span class="st">&quot;Data Files&quot;</span>, <span class="st">&quot;Descriptives.csv&quot;</span>)))</a>
<a class="sourceLine" id="cb218-46" data-line-number="46"></a>
<a class="sourceLine" id="cb218-47" data-line-number="47"><span class="co">#######################################</span></a>
<a class="sourceLine" id="cb218-48" data-line-number="48"><span class="co">#------ 5. Statistical Analysis ------# </span></a>
<a class="sourceLine" id="cb218-49" data-line-number="49"><span class="co">#######################################</span></a>
<a class="sourceLine" id="cb218-50" data-line-number="50"></a>
<a class="sourceLine" id="cb218-51" data-line-number="51"><span class="kw">render</span>(<span class="kw">here</span>(<span class="st">&quot;R Scripts&quot;</span>, <span class="st">&quot;markdown_document_name.Rmd&quot;</span>), </a>
<a class="sourceLine" id="cb218-52" data-line-number="52">       <span class="dt">output_dir =</span> <span class="kw">here</span>(<span class="st">&quot;Results&quot;</span>), <span class="dt">output_file =</span> <span class="st">&quot;Name_of_output.html&quot;</span>,</a>
<a class="sourceLine" id="cb218-53" data-line-number="53">       <span class="dt">params =</span> <span class="kw">list</span>(<span class="dt">data =</span> <span class="kw">here</span>(<span class="st">&quot;Data Files&quot;</span>, <span class="st">&quot;Name_of_datafile.csv&quot;</span>)))</a>
<a class="sourceLine" id="cb218-54" data-line-number="54"></a>
<a class="sourceLine" id="cb218-55" data-line-number="55"></a>
<a class="sourceLine" id="cb218-56" data-line-number="56"><span class="kw">rm</span>(<span class="dt">list=</span><span class="kw">ls</span>())</a></code></pre></div>
<p>The masterscript is simply controlling when all the other scripts get executed. This is nice, because if you do not want to necessarily start from the raw data files (if you have already created the raw files) then you can start from the scored data. Or if you have already scored the data, and you are modifying the analysis files you can skip the above steps and just <code>render()</code> the analysis files as you modify them.</p>
<p>This saves time because you do not have to open each R Script one at a time to <code>source()</code> or <code>render()</code> it. You can control it all from the masterscript</p>
</div>
<div id="folder-organization" class="section level2">
<h2><span class="header-section-number">15.3</span> Folder Organization</h2>
<p>I suggest adopting a consistent folder organization for all your research projects. Again, this is just about allowing you to focus on the meat of your R scripts.</p>
<p>This is my organization:</p>
<p><em>Working Directory</em></p>
<ul>
<li>Data Files
<ul>
<li>Raw Data
<ul>
<li>E-Merge</li>
</ul></li>
<li>Scored Data</li>
</ul></li>
<li>R Scripts</li>
<li>Results</li>
</ul>
<p>In the <em>Data Files/Raw Data/E-Merge</em> folder are the <strong>“messy” raw data</strong> files</p>
<p>In the <em>Data Files/Raw Data</em> folder are the <strong>“tidy” raw data</strong> files</p>
<p>In the <em>Data Files/Scored Data</em> folder are the <strong>scored data</strong> files</p>
<p>In the <em>Results</em> folder are the outpued <strong>results</strong></p>
<p>In the <em>R Scripts</em> folder are ALL the R Scripts that are used</p>
<p>You can see how this organization corresponds to the data processing workflow I introduced earlier</p>
</div>
<div id="naming-r-scripts" class="section level2">
<h2><span class="header-section-number">15.4</span> Naming R Scripts</h2>
<p>If you have a lot of R Scripts for a project it can make it easier to use a certain naming convention to organize the scripts. <strong>First of all, I definitely reccomend putting all your scripts into one folder.</strong> There is nothing more annoying then having to search all of your computer for the script you are looking for.</p>
<p>I personally like to name my R scripts with a number prefix folowed by an underscore and end it with the name of the data processing step it belongs to (i.e. <code>1_taskname_raw.R</code>).</p>
<p>The numbered prefix denotes what step in the data processing procedure given the organization of the masterscript.</p>
<p>This makes it SO MUCH easier to search for the script you need to work on. For instance, my R Script directory might look like</p>
<p>Where all the scripts that create “tidy” raw data files have the prefix <code>1</code> and the suffix <code>_raw</code> whereas the scripts for scoring data files has the prefix <code>2</code> and the suffix <code>_score</code>. The prefix number will order the scripts by their data processing workflow step.</p>
<hr />
<p>In the next two chapters we will go over an example of writing R Scripts for steps 1 and 2 of the general data processing workflow.</p>
<p>If you have not doen so already, you should create an <code>.Rproj</code> and organize your folders.</p>
<p>If you would like to use a similar workflow in your R Scripts as I do, you can check out the <a href="https://github.com/dr-JT/englelab/tree/master/rscript_templates">R Script templates I have created for the Engle lab</a>.</p>
<hr />
<p><strong>Something</strong></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="project-organization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="workflow-package.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
