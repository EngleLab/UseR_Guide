<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>21 Structural Equation Modelling | EngleLab: useRguide</title>
<meta name="author" content="Jason Tsukahara">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.2.9000/tabs.js"></script><script src="libs/bs3compat-0.2.2.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">EngleLab: useRguide</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li class="book-part">Getting Started in R</li>
<li><a class="" href="installation.html"><span class="header-section-number">1</span> Installation</a></li>
<li><a class="" href="basic-r.html"><span class="header-section-number">2</span> Basic R</a></li>
<li><a class="" href="intermediate-r.html"><span class="header-section-number">3</span> Intermediate R</a></li>
<li class="book-part">Working with Data</li>
<li><a class="" href="working-with-data-overview.html">Working with Data: Overview</a></li>
<li><a class="" href="importing-and-outputing-data.html"><span class="header-section-number">4</span> Importing and Outputing Data</a></li>
<li><a class="" href="data-manipulation-using-dplyr.html"><span class="header-section-number">5</span> Data Manipulation using dplyr</a></li>
<li><a class="" href="common-data-manipulations.html"><span class="header-section-number">6</span> Common Data Manipulations</a></li>
<li class="book-part">Reproducible Workflows</li>
<li><a class="" href="reproducible-workflows-overview.html">Reproducible Workflows: Overview</a></li>
<li><a class="" href="project-organization.html"><span class="header-section-number">7</span> Project Organization</a></li>
<li><a class="" href="reproducible-practices.html"><span class="header-section-number">8</span> Reproducible Practices</a></li>
<li><a class="" href="r-script-templates.html"><span class="header-section-number">9</span> R Script Templates</a></li>
<li class="book-part">Create R Scripts</li>
<li><a class="" href="create-r-scripts-overview.html">Create R Scripts: Overview</a></li>
<li><a class="" href="data-preparation-setup.html"><span class="header-section-number">10</span> Data Preparation: Setup</a></li>
<li><a class="" href="data-preparation-messy-to-tidy.html"><span class="header-section-number">11</span> Data Preparation: Messy to Tidy</a></li>
<li><a class="" href="data-analysis-setup.html"><span class="header-section-number">12</span> Data Analysis: Setup</a></li>
<li><a class="" href="data-analysis-tidy-to-scored.html"><span class="header-section-number">13</span> Data Analysis: Tidy to Scored</a></li>
<li><a class="" href="data-analysis-single-merged-file.html"><span class="header-section-number">14</span> Data Analysis: Single Merged File</a></li>
<li class="book-part">Data Visualization</li>
<li><a class="" href="data-visualization-overview.html">Data Visualization: Overview</a></li>
<li><a class="" href="fundamentals-of-data-visualization.html"><span class="header-section-number">15</span> Fundamentals of Data Visualization</a></li>
<li><a class="" href="introduction-to-ggplot2.html"><span class="header-section-number">16</span> Introduction to ggplot2</a></li>
<li><a class="" href="scatterplots.html"><span class="header-section-number">17</span> Scatterplots</a></li>
<li><a class="" href="plotting-means.html"><span class="header-section-number">18</span> Plotting Means</a></li>
<li><a class="" href="univariate-plots.html"><span class="header-section-number">19</span> Univariate Plots</a></li>
<li class="book-part">Statistical Analysis</li>
<li><a class="" href="statistical-analysis-overview.html">Statistical Analysis: Overview</a></li>
<li><a class="" href="statistics-in-r.html"><span class="header-section-number">20</span> Statistics in R</a></li>
<li><a class="active" href="structural-equation-modelling.html"><span class="header-section-number">21</span> Structural Equation Modelling</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="structural-equation-modelling" class="section level1">
<h1>
<span class="header-section-number">21</span> Structural Equation Modelling<a class="anchor" aria-label="anchor" href="#structural-equation-modelling"><i class="fas fa-link"></i></a>
</h1>
<p><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"></p>
<p>By far the most common statistical analyses we do in this lab are confirmatory factor analysis (CFA) and structural equation modeling (SEM).</p>
<p>This Chapter will cover how to conduct CFA’s and SEM’s in R using the <code>lavaan</code> package.</p>
<div id="lavaan" class="section level2">
<h2>
<span class="header-section-number">21.1</span> <code>lavaan</code><a class="anchor" aria-label="anchor" href="#lavaan"><i class="fas fa-link"></i></a>
</h2>
<p>Install the <code>lavaan</code> package</p>
<div class="sourceCode" id="cb320"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"lavaan"</span>)
</pre></div>
<p>Visit the <a href="http://lavaan.ugent.be" target="_blank">lavaan website</a> and navigate to the <strong>Tutorial</strong> tab.</p>
<p>This is an excellent resource for you to consult if you forget any syntax or want more details on using <em>lavaan</em>. You should go over the full tutorial yourself, but I will go ahead and cover the basics here.</p>
<p>There are only two main steps to run a lavaan model.</p>
<ol style="list-style-type: decimal">
<li><p>Build the model object</p></li>
<li><p>Run the model with <code>cfa()</code> or <code>sem()</code></p></li>
</ol>
<div id="building-the-model-object" class="section level3">
<h3>
<span class="header-section-number">21.1.1</span> Building the model object<a class="anchor" aria-label="anchor" href="#building-the-model-object"><i class="fas fa-link"></i></a>
</h3>
<p>The model object is where you specify the model equation for the CFA or SEM. It is actually very easy and intuitive to do. Basically you specify the model equation within single quotes and pass it to an object called model. Let’s say we have want to run a model corresponding to this model diagram:</p>
<div class="inline-figure"><img src="images/stats/cfa_example.png" width="40%"></div>
<p>We would simply specify:</p>
<div class="sourceCode" id="cb321"><pre class="downlit">
<span class="kw">model</span> <span class="op">&lt;-</span> <span class="st">' 
visual  =~ x1 + x2 + x3 
textual =~ x4 + x5 + x6
speed   =~ x7 + x8 + x9 
'</span>
</pre></div>
<p>This defines a CFA model with three latent factors; <strong>visual</strong>, <strong>textual</strong>, and <strong>speed</strong> with their respective indicators. The indicators need to correspond to column names in the data frame.</p>
<p>There are certain defaults that <code>lavaan</code> uses so that we do not have to specify every single path in the model. For instance, by default it will add correlations between the latent factors in a CFA model. That is why in the model example above, the latent correlations are not explicit, yet they are implicitly part of the model.</p>
<p><strong>Model Syntax</strong></p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>formula type</th>
<th>operator</th>
<th>mnemonic</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>latent variable definition</td>
<td>=~</td>
<td>is measured by</td>
</tr>
<tr class="even">
<td>regression</td>
<td>~</td>
<td>is regressed on</td>
</tr>
<tr class="odd">
<td>variance/covariance</td>
<td>~~</td>
<td>is correlated with</td>
</tr>
<tr class="even">
<td>new parameter</td>
<td>:=</td>
<td>is defined by</td>
</tr>
</tbody>
</table></div>
</div>
<div id="run-the-model" class="section level3">
<h3>
<span class="header-section-number">21.1.2</span> Run the model<a class="anchor" aria-label="anchor" href="#run-the-model"><i class="fas fa-link"></i></a>
</h3>
<p>Then the model can be ran using <code>cfa()</code> or <code>sem()</code> functions</p>
<div class="sourceCode" id="cb322"><pre class="downlit">
<span class="kw">fit</span> <span class="op">&lt;-</span> <span class="fu">cfa</span>(<span class="kw">model</span>, <span class="kw">data</span>)
</pre></div>
<p>The first two arguments to pass onto the lavaan functions are <code>model</code> and <code>data</code>, respectively. There are other important arguments that we will cover later.</p>
<p>The <code><a href="https://rdrr.io/r/base/summary.html">summary(fit, fit.measures = TRUE, standardized = TRUE)</a></code> output to a lavaan model looks like</p>
<pre><code>## lavaan 0.6-7 ended normally after 35 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of free parameters                         21
##                                                       
##   Number of observations                           301
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                85.306
##   Degrees of freedom                                24
##   P-value (Chi-square)                           0.000
## 
## Model Test Baseline Model:
## 
##   Test statistic                               918.852
##   Degrees of freedom                                36
##   P-value                                        0.000
## 
## User Model versus Baseline Model:
## 
##   Comparative Fit Index (CFI)                    0.931
##   Tucker-Lewis Index (TLI)                       0.896
## 
## Loglikelihood and Information Criteria:
## 
##   Loglikelihood user model (H0)              -3737.745
##   Loglikelihood unrestricted model (H1)      -3695.092
##                                                       
##   Akaike (AIC)                                7517.490
##   Bayesian (BIC)                              7595.339
##   Sample-size adjusted Bayesian (BIC)         7528.739
## 
## Root Mean Square Error of Approximation:
## 
##   RMSEA                                          0.092
##   90 Percent confidence interval - lower         0.071
##   90 Percent confidence interval - upper         0.114
##   P-value RMSEA &lt;= 0.05                          0.001
## 
## Standardized Root Mean Square Residual:
## 
##   SRMR                                           0.065
## 
## Parameter Estimates:
## 
##   Standard errors                             Standard
##   Information                                 Expected
##   Information saturated (h1) model          Structured
## 
## Latent Variables:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
##   visual =~                                                             
##     x1                1.000                               0.900    0.772
##     x2                0.554    0.100    5.554    0.000    0.498    0.424
##     x3                0.729    0.109    6.685    0.000    0.656    0.581
##   textual =~                                                            
##     x4                1.000                               0.990    0.852
##     x5                1.113    0.065   17.014    0.000    1.102    0.855
##     x6                0.926    0.055   16.703    0.000    0.917    0.838
##   speed =~                                                              
##     x7                1.000                               0.619    0.570
##     x8                1.180    0.165    7.152    0.000    0.731    0.723
##     x9                1.082    0.151    7.155    0.000    0.670    0.665
## 
## Covariances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
##   visual ~~                                                             
##     textual           0.408    0.074    5.552    0.000    0.459    0.459
##     speed             0.262    0.056    4.660    0.000    0.471    0.471
##   textual ~~                                                            
##     speed             0.173    0.049    3.518    0.000    0.283    0.283
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
##    .x1                0.549    0.114    4.833    0.000    0.549    0.404
##    .x2                1.134    0.102   11.146    0.000    1.134    0.821
##    .x3                0.844    0.091    9.317    0.000    0.844    0.662
##    .x4                0.371    0.048    7.779    0.000    0.371    0.275
##    .x5                0.446    0.058    7.642    0.000    0.446    0.269
##    .x6                0.356    0.043    8.277    0.000    0.356    0.298
##    .x7                0.799    0.081    9.823    0.000    0.799    0.676
##    .x8                0.488    0.074    6.573    0.000    0.488    0.477
##    .x9                0.566    0.071    8.003    0.000    0.566    0.558
##     visual            0.809    0.145    5.564    0.000    1.000    1.000
##     textual           0.979    0.112    8.737    0.000    1.000    1.000
##     speed             0.384    0.086    4.451    0.000    1.000    1.000</code></pre>
<p><strong>Yikes!!</strong></p>
<p>You really should learn to understand this output, but nicer looking output would be nice right?</p>
<p>This is where my <code>semoutput</code> package comes in handy.</p>
</div>
</div>
<div id="semoutput" class="section level2">
<h2>
<span class="header-section-number">21.2</span> <code>semoutput</code><a class="anchor" aria-label="anchor" href="#semoutput"><i class="fas fa-link"></i></a>
</h2>
<p>If you have not done so already open the RStudio project file for this tutorial.</p>
<hr>
<div style="text-align: center; font-size: 1.25em">
<p><a href="http://englelab.gatech.edu/useRguide/data/PoliticalDemocracy.csv"><i class="fas fa-download" style="font-size: 3em"></i></a></p>
<p><a href="http://englelab.gatech.edu/useRguide/data/PoliticalDemocracy.csv"><strong>Download the PoliticalDemocracy dataset used in the <code>lavaan</code> tutorial</strong></a></p>
</div>
<hr>
<p>Save it to the folder <strong>Data Files</strong> of your project directory.</p>
<p>Install <code>semoutput</code></p>
<div class="sourceCode" id="cb324"><pre class="downlit">
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"dr-JT/semoutput"</span>)
</pre></div>
<p>Additional packages you will need to have installed</p>
<div class="sourceCode" id="cb325"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"sjPlot"</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"semPlot"</span>)
</pre></div>
<p>Once you install <code>semoutput</code> you should Restart R by going to:</p>
<p>Session -&gt; Restart R</p>
<p>You can download an R Markdown template for doing CFA and SEM in <code>lavaan</code>. Go to:</p>
<p>File -&gt; New File -&gt; R Markdown…From Template -&gt; CFA/SEM (lavaan)</p>
<div id="yaml-header-1" class="section level3">
<h3>
<span class="header-section-number">21.2.1</span> YAML Header<a class="anchor" aria-label="anchor" href="#yaml-header-1"><i class="fas fa-link"></i></a>
</h3>
<p>At the top of the document is what is called the YAML header. Here is where you can specify certain parameters that you may want to use as default in your analyses.</p>
<p>You also need to specify the location and name of the data file you will be working with</p>
<div class="sourceCode" id="cb326"><pre class="downlit">
<span class="kw">params</span><span class="op">:</span>
  <span class="kw">import.file</span><span class="op">:</span> <span class="st">""</span>       <span class="co"># Relative file path to data</span>
  <span class="kw">mimic</span><span class="op">:</span> <span class="st">"lavaan"</span>       <span class="co"># Which software program to mimic for estimating models</span>
  <span class="kw">missing</span><span class="op">:</span> <span class="st">"ML"</span>         <span class="co"># How to deal with missing values: "ML" or "listwise"</span>
  <span class="kw">std.lv</span><span class="op">:</span> <span class="fl">TRUE</span>          <span class="co"># For CFAs, default setting whether to set latent variances to 1 or not</span>
  <span class="kw">std.ov</span><span class="op">:</span> <span class="fl">FALSE</span>         <span class="co"># Standardize all observed varialbes?</span>
  <span class="kw">se</span><span class="op">:</span> <span class="st">"standard"</span>        <span class="co"># How to calcualte standard errors: "standard" or "bootstrap"</span>
  <span class="kw">bootstrap</span><span class="op">:</span> <span class="fl">1000</span>       <span class="co"># If se = "bootstrap" how many boostrap samples?</span>
</pre></div>
<p><em>skipping the efa example for now</em></p>
<p>The first R code chunk <strong>Required Packages</strong> is where you should load any packages used in the document.</p>
<p>The next R code chunk is where the data file is imported.</p>
<p>The next two R code chunk’s print out a descriptive and correlational tables.</p>
<p>The next section is a template for conducting an exploratory factor analysis with <code><a href="https://rdrr.io/pkg/psych/man/fa.html">psych::fa()</a></code>. Let’s skip this for now.</p>
<p>The next two sections are templates for CFA and SEM using <code>lavaan</code>. For each CFA and SEM section there are 4 subsections.</p>
<ul>
<li><p>The “Summary Output” subsection displays nice looking tables summarizing the model results</p></li>
<li><p>The “Diagram Output” subsection will display a model diagram</p></li>
<li><p>The “Residual Correlation Matrix” subsection will display the residual correlation matrix</p></li>
<li><p>The “Full Output” subsection will display the results from summary() along with parameter estimates and modification indices. This way you can still get the full output from a lavaan model as it provides more information than the “Summary Output”. You can also add additional output to this section if you need more info about the model.</p></li>
</ul>
</div>
<div id="cfa-example" class="section level3">
<h3>
<span class="header-section-number">21.2.2</span> CFA Example<a class="anchor" aria-label="anchor" href="#cfa-example"><i class="fas fa-link"></i></a>
</h3>
<p>Ultimately we will run the following SEM model. First let’s conduct a CFA of the model.</p>
<div class="inline-figure"><img src="images/stats/sem_example.png" width="60%"></div>
<p>The following error residuals are correlated:</p>
<p>y1 and y5; y2 and y4; y2 and y6; y3 and y7; y4 and y8; y6 and y8</p>
<p>To correlate error residuals you would specify:</p>
<pre><code>y1 ~~ y5</code></pre>
<p>Move down to the CFA section. First, you need to create a list of the latent factor labels (this is for the output and not running a <code>lavaan</code> model).</p>
<div class="sourceCode" id="cb328"><pre class="downlit">
<span class="kw">factors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"dem60"</span>, <span class="st">"ind60"</span>, <span class="st">"dem65"</span>)
</pre></div>
<p>Then specify the model equation. The commented lines (e.g. # latent factors) are just optional and can be changed or removed. Remember, the factor correlations are implied.</p>
<div class="sourceCode" id="cb329"><pre class="downlit">
<span class="kw">model</span> <span class="op">&lt;-</span> <span class="st">'
# latent factors

# correlated errors

# constraints

'</span>
</pre></div>
<div class="sourceCode" id="cb330"><pre class="downlit">
<span class="kw">model</span> <span class="op">&lt;-</span> <span class="st">'
# latent factors
dem60 =~ y1 + y2 + y3 + y4
ind60 =~ x1 + x2 + x3
dem65 =~ y5 + y6 + y7 + y8

# correlated errors
y1 ~~ y5
y2 ~~ y4
y2 ~~ y6
y3 ~~ y7
y4 ~~ y8
y6 ~~ y8

# constraints

'</span>
</pre></div>
<p>You do not need to change anything for <code>cfa()</code>. Unless you want to change some of the defaults you set in the YAML header.</p>
<div class="sourceCode" id="cb331"><pre class="downlit">
<span class="kw">fit</span> <span class="op">&lt;-</span> <span class="fu">cfa</span>(model = <span class="kw">model</span>, data = <span class="kw">data</span>, 
           mimic = <span class="kw">params</span><span class="op">$</span><span class="kw">mimic</span>, missing = <span class="kw">params</span><span class="op">$</span><span class="kw">missing</span>, 
           std.lv = <span class="kw">params</span><span class="op">$</span><span class="kw">std.lv</span>, std.ov = <span class="kw">params</span><span class="op">$</span><span class="kw">std.ov</span>,
           se = <span class="kw">params</span><span class="op">$</span><span class="kw">se</span>, bootstrap = <span class="kw">params</span><span class="op">$</span><span class="kw">bootstrap</span>)
</pre></div>
<p>Run this R code chunk by pressing the green arrow button. Then run each R code chunk in each subsection to print the output.</p>
<div class="sourceCode" id="cb332"><pre class="downlit">
<span class="fu">sem_sig</span>(<span class="kw">fit</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-401">Table 21.1: </span>Model Significance
</caption>
<thead><tr>
<th style="text-align:right;">
Sample.Size
</th>
<th style="text-align:right;">
Chi.Square
</th>
<th style="text-align:right;">
df
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
38.125
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0.329
</td>
</tr></tbody>
</table></div>
<div class="sourceCode" id="cb333"><pre class="downlit">
<span class="fu">sem_fitmeasures</span>(<span class="kw">fit</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-401">Table 21.1: </span>Model Fit Measures
</caption>
<thead><tr>
<th style="text-align:right;">
CFI
</th>
<th style="text-align:right;">
RMSEA
</th>
<th style="text-align:right;">
RMSEA.Lower
</th>
<th style="text-align:right;">
RMSEA.Upper
</th>
<th style="text-align:right;">
AIC
</th>
<th style="text-align:right;">
BIC
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:right;">
0.995
</td>
<td style="text-align:right;">
0.035
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.092
</td>
<td style="text-align:right;">
3179.582
</td>
<td style="text-align:right;">
3276.916
</td>
</tr></tbody>
</table></div>
<div class="sourceCode" id="cb334"><pre class="downlit">
<span class="fu">sem_factorloadings</span>(<span class="kw">fit</span>, standardized = <span class="fl">TRUE</span>, ci = <span class="st">"standardized"</span>)
</pre></div>
<div class="inline-table"><table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-401">Table 21.1: </span>Factor Loadings
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="7">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Standardized
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Latent Factor
</th>
<th style="text-align:left;">
Indicator
</th>
<th style="text-align:right;">
Loadings
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
<th style="text-align:right;">
z
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.850
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.765
</td>
<td style="text-align:right;">
0.936
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.435
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.717
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.592
</td>
<td style="text-align:right;">
0.843
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.207
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.722
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.596
</td>
<td style="text-align:right;">
0.849
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.221
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.846
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.759
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.020
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.920
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.874
</td>
<td style="text-align:right;">
0.965
</td>
<td style="text-align:right;">
0.023
</td>
<td style="text-align:right;">
39.658
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.973
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.941
</td>
<td style="text-align:right;">
1.005
</td>
<td style="text-align:right;">
0.017
</td>
<td style="text-align:right;">
58.917
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.872
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.812
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.031
</td>
<td style="text-align:right;">
28.304
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.808
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.713
</td>
<td style="text-align:right;">
0.903
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
16.698
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.746
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.634
</td>
<td style="text-align:right;">
0.858
</td>
<td style="text-align:right;">
0.057
</td>
<td style="text-align:right;">
13.031
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.824
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.734
</td>
<td style="text-align:right;">
0.913
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.063
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.828
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.738
</td>
<td style="text-align:right;">
0.918
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.030
</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb335"><pre class="downlit">
<span class="fu">sem_factorcor</span>(<span class="kw">fit</span>, factors = <span class="kw">factors</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-401">Table 21.1: </span>Latent Factor Correlations
</caption>
<thead><tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
r
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:right;">
0.447
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.242
</td>
<td style="text-align:right;">
0.652
</td>
<td style="text-align:right;">
0.105
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.967
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.909
</td>
<td style="text-align:right;">
1.024
</td>
<td style="text-align:right;">
0.029
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.578
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.403
</td>
<td style="text-align:right;">
0.753
</td>
<td style="text-align:right;">
0.089
</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb336"><pre class="downlit">
<span class="fu">sem_factorvar</span>(<span class="kw">fit</span>, factors = <span class="kw">factors</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-401">Table 21.1: </span>Latent Factor Variance/Residual Variance
</caption>
<thead><tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
var
</th>
<th style="text-align:right;">
var.std
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
</tr></thead>
<tbody><tr></tr></tbody>
</table></div>
<div class="sourceCode" id="cb337"><pre class="downlit">
<span class="fu">sem_rsquared</span>(<span class="kw">fit</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-401">Table 21.1: </span>R-Squared Values
</caption>
<thead><tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
R-Squared
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.7232242
</td>
</tr>
<tr>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.5142640
</td>
</tr>
<tr>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.5217883
</td>
</tr>
<tr>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.7152245
</td>
</tr>
<tr>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.8461294
</td>
</tr>
<tr>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.9467924
</td>
</tr>
<tr>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.7606256
</td>
</tr>
<tr>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.6528920
</td>
</tr>
<tr>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.5565270
</td>
</tr>
<tr>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.6784378
</td>
</tr>
<tr>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.6853215
</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb338"><pre class="downlit">
<span class="fu">semPaths</span>(<span class="kw">fit</span>, latents = <span class="kw">factors</span>, whatLabels = <span class="st">"std"</span>, layout = <span class="st">"tree2"</span>, 
         rotation = <span class="fl">2</span>, style = <span class="st">"lisrel"</span>, optimizeLatRes = <span class="fl">TRUE</span>, 
         intercepts = <span class="fl">FALSE</span>, residuals = <span class="fl">TRUE</span>, curve = <span class="fl">1</span>, curvature = <span class="fl">2</span>, 
         sizeLat = <span class="fl">10</span>, nCharNodes = <span class="fl">8</span>, sizeMan = <span class="fl">11</span>, sizeMan2 = <span class="fl">4</span>, 
         edge.label.cex = <span class="fl">1.2</span>, edge.color = <span class="st">"#000000"</span>)
</pre></div>
<div class="inline-figure"><img src="EngleLab-useRguide_files/figure-html/unnamed-chunk-402-1.png" width="672"></div>
<div class="sourceCode" id="cb339"><pre class="downlit">
<span class="fu">modificationIndices</span>(<span class="kw">fit</span>, sort. = <span class="fl">TRUE</span>, minimum.value = <span class="fl">3</span>)
</pre></div>
<pre><code>##      lhs op rhs    mi    epc sepc.lv sepc.all sepc.nox
## 59 ind60 =~  y4 4.796  0.577   0.577    0.174    0.174
## 60 ind60 =~  y5 4.456  0.559   0.559    0.215    0.215
## 67 dem65 =~  y4 4.260  2.986   2.986    0.898    0.898
## 72    y1 ~~  y3 3.771  0.849   0.849    0.274    0.274
## 81    y2 ~~  x1 3.040 -0.155  -0.155   -0.200   -0.200</code></pre>
</div>
<div id="sem-example" class="section level3">
<h3>
<span class="header-section-number">21.2.3</span> SEM Example<a class="anchor" aria-label="anchor" href="#sem-example"><i class="fas fa-link"></i></a>
</h3>
<p>Now let’s run the actual SEM model. Really the only difference is that we will add some regression paths</p>
<div class="sourceCode" id="cb341"><pre class="downlit">
<span class="kw">factors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"dem60"</span>, <span class="st">"ind60"</span>, <span class="st">"dem65"</span>)
</pre></div>
<div class="sourceCode" id="cb342"><pre class="downlit">
<span class="kw">model</span> <span class="op">&lt;-</span> <span class="st">'
# latent factors
dem60 =~ y1 + y2 + y3 + y4
ind60 =~ x1 + x2 + x3
dem65 =~ y5 + y6 + y7 + y8

# variances

# covariances
y1 ~~ y5
y2 ~~ y4
y2 ~~ y6
y3 ~~ y7
y4 ~~ y8
y6 ~~ y8

# regressions
dem65 ~ dem60 + ind60
dem60 ~ ind60
'</span>
</pre></div>
<div class="sourceCode" id="cb343"><pre class="downlit">
<span class="kw">fit</span> <span class="op">&lt;-</span> <span class="fu">sem</span>(model = <span class="kw">model</span>, data = <span class="kw">data</span>, 
           mimic = <span class="kw">params</span><span class="op">$</span><span class="kw">mimic</span>, missing = <span class="kw">params</span><span class="op">$</span><span class="kw">missing</span>, 
           std.lv = <span class="fl">FALSE</span>, std.ov = <span class="kw">params</span><span class="op">$</span><span class="kw">std.ov</span>,
           se = <span class="kw">params</span><span class="op">$</span><span class="kw">se</span>, bootstrap = <span class="kw">params</span><span class="op">$</span><span class="kw">bootstrap</span>)
</pre></div>
<div class="sourceCode" id="cb344"><pre class="downlit">
<span class="fu">sem_sig</span>(<span class="kw">fit</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-407">Table 21.2: </span>Model Significance
</caption>
<thead><tr>
<th style="text-align:right;">
Sample.Size
</th>
<th style="text-align:right;">
Chi.Square
</th>
<th style="text-align:right;">
df
</th>
<th style="text-align:right;">
p.value
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
38.125
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0.329
</td>
</tr></tbody>
</table></div>
<div class="sourceCode" id="cb345"><pre class="downlit">
<span class="fu">sem_fitmeasures</span>(<span class="kw">fit</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-407">Table 21.2: </span>Model Fit Measures
</caption>
<thead><tr>
<th style="text-align:right;">
CFI
</th>
<th style="text-align:right;">
RMSEA
</th>
<th style="text-align:right;">
RMSEA.Lower
</th>
<th style="text-align:right;">
RMSEA.Upper
</th>
<th style="text-align:right;">
AIC
</th>
<th style="text-align:right;">
BIC
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:right;">
0.995
</td>
<td style="text-align:right;">
0.035
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.092
</td>
<td style="text-align:right;">
3179.582
</td>
<td style="text-align:right;">
3276.916
</td>
</tr></tbody>
</table></div>
<div class="sourceCode" id="cb346"><pre class="downlit">
<span class="fu">sem_factorloadings</span>(<span class="kw">fit</span>, standardized = <span class="fl">TRUE</span>, ci = <span class="st">"standardized"</span>)
</pre></div>
<div class="inline-table"><table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-407">Table 21.2: </span>Factor Loadings
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="7">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Standardized
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Latent Factor
</th>
<th style="text-align:left;">
Indicator
</th>
<th style="text-align:right;">
Loadings
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
<th style="text-align:right;">
z
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.850
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.765
</td>
<td style="text-align:right;">
0.936
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.435
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.717
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.592
</td>
<td style="text-align:right;">
0.843
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.207
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.722
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.596
</td>
<td style="text-align:right;">
0.849
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.221
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.846
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.759
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.020
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.920
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.874
</td>
<td style="text-align:right;">
0.965
</td>
<td style="text-align:right;">
0.023
</td>
<td style="text-align:right;">
39.658
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.973
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.941
</td>
<td style="text-align:right;">
1.005
</td>
<td style="text-align:right;">
0.017
</td>
<td style="text-align:right;">
58.917
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.872
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.812
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.031
</td>
<td style="text-align:right;">
28.304
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.808
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.713
</td>
<td style="text-align:right;">
0.903
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
16.698
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.746
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.634
</td>
<td style="text-align:right;">
0.858
</td>
<td style="text-align:right;">
0.057
</td>
<td style="text-align:right;">
13.031
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.824
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.734
</td>
<td style="text-align:right;">
0.913
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.063
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.828
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.738
</td>
<td style="text-align:right;">
0.918
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.030
</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb347"><pre class="downlit">
<span class="fu">sem_paths</span>(<span class="kw">fit</span>, standardized = <span class="fl">TRUE</span>, ci = <span class="st">"standardized"</span>)
</pre></div>
<div class="inline-table"><table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-407">Table 21.2: </span>Regression Paths
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="7">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Standardized
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Predictor
</th>
<th style="text-align:left;">
DV
</th>
<th style="text-align:right;">
Path Values
</th>
<th style="text-align:right;">
SE
</th>
<th style="text-align:right;">
z
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.885
</td>
<td style="text-align:right;">
0.052
</td>
<td style="text-align:right;">
17.100
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.784
</td>
<td style="text-align:right;">
0.987
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.182
</td>
<td style="text-align:right;">
0.073
</td>
<td style="text-align:right;">
2.498
</td>
<td style="text-align:left;">
<ul><li></ul>
</td>
<td style="text-align:right;">
0.013
</td>
<td style="text-align:right;">
0.039
</td>
<td style="text-align:right;">
0.325
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:right;">
0.447
</td>
<td style="text-align:right;">
0.105
</td>
<td style="text-align:right;">
4.267
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.242
</td>
<td style="text-align:right;">
0.652
</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb348"><pre class="downlit">
<span class="fu">sem_factorcor</span>(<span class="kw">fit</span>, factors = <span class="kw">factors</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-407">Table 21.2: </span>Latent Factor Correlations
</caption>
<thead><tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
r
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
</tr></thead>
<tbody><tr></tr></tbody>
</table></div>
<div class="sourceCode" id="cb349"><pre class="downlit">
<span class="fu">sem_factorvar</span>(<span class="kw">fit</span>, factors = <span class="kw">factors</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-407">Table 21.2: </span>Latent Factor Variance/Residual Variance
</caption>
<thead><tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
var
</th>
<th style="text-align:right;">
var.std
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:right;">
3.956
</td>
<td style="text-align:right;">
0.800
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:right;">
0.448
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.172
</td>
<td style="text-align:right;">
0.039
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
0.434
</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb350"><pre class="downlit">
<span class="fu">sem_rsquared</span>(<span class="kw">fit</span>)
</pre></div>
<div class="inline-table"><table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-407">Table 21.2: </span>R-Squared Values
</caption>
<thead><tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
R-Squared
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.7232243
</td>
</tr>
<tr>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.5142639
</td>
</tr>
<tr>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.5217879
</td>
</tr>
<tr>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.7152243
</td>
</tr>
<tr>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.8461294
</td>
</tr>
<tr>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.9467924
</td>
</tr>
<tr>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.7606255
</td>
</tr>
<tr>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.6528920
</td>
</tr>
<tr>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.5565263
</td>
</tr>
<tr>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.6784382
</td>
</tr>
<tr>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.6853214
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:right;">
0.1995522
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.9609949
</td>
</tr>
</tbody>
</table></div>
<div class="sourceCode" id="cb351"><pre class="downlit">
<span class="fu">semPaths</span>(<span class="kw">fit</span>, latents = <span class="kw">factors</span>, whatLabels = <span class="st">"std"</span>, layout = <span class="st">"tree2"</span>, 
         rotation = <span class="fl">2</span>, style = <span class="st">"lisrel"</span>, optimizeLatRes = <span class="fl">TRUE</span>, 
         intercepts = <span class="fl">FALSE</span>, residuals = <span class="fl">TRUE</span>, curve = <span class="fl">1</span>, curvature = <span class="fl">2</span>, 
         sizeLat = <span class="fl">10</span>, nCharNodes = <span class="fl">8</span>, sizeMan = <span class="fl">11</span>, sizeMan2 = <span class="fl">4</span>, 
         edge.label.cex = <span class="fl">1.2</span>, edge.color = <span class="st">"#000000"</span>)
</pre></div>
<div class="inline-figure"><img src="EngleLab-useRguide_files/figure-html/unnamed-chunk-408-1.png" width="672"></div>
<hr>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="statistics-in-r.html"><span class="header-section-number">20</span> Statistics in R</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#structural-equation-modelling"><span class="header-section-number">21</span> Structural Equation Modelling</a></li>
<li>
<a class="nav-link" href="#lavaan"><span class="header-section-number">21.1</span> lavaan</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#building-the-model-object"><span class="header-section-number">21.1.1</span> Building the model object</a></li>
<li><a class="nav-link" href="#run-the-model"><span class="header-section-number">21.1.2</span> Run the model</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#semoutput"><span class="header-section-number">21.2</span> semoutput</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#yaml-header-1"><span class="header-section-number">21.2.1</span> YAML Header</a></li>
<li><a class="nav-link" href="#cfa-example"><span class="header-section-number">21.2.2</span> CFA Example</a></li>
<li><a class="nav-link" href="#sem-example"><span class="header-section-number">21.2.3</span> SEM Example</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>EngleLab: useRguide</strong>" was written by Jason Tsukahara. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
