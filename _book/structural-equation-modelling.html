<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>19 Structural Equation Modelling | EngleLab: useRguide</title>
  <meta name="description" content="This is a useRguide for the EngleLab" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="19 Structural Equation Modelling | EngleLab: useRguide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="images/eagle.png" />
  <meta property="og:description" content="This is a useRguide for the EngleLab" />
  <meta name="github-repo" content="EngleLab" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="19 Structural Equation Modelling | EngleLab: useRguide" />
  
  <meta name="twitter:description" content="This is a useRguide for the EngleLab" />
  <meta name="twitter:image" content="images/eagle.png" />

<meta name="author" content="Jason Tsukahara" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistics-in-r.html"/>

<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EngleLab: useRguide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Getting Started in R</b></span></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installation.html"><a href="installation.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.2" data-path="installation.html"><a href="installation.html#installing-r-studio"><i class="fa fa-check"></i><b>1.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="1.3" data-path="installation.html"><a href="installation.html#the-r-studio-environemnt"><i class="fa fa-check"></i><b>1.3</b> The R Studio Environemnt</a></li>
<li class="chapter" data-level="1.4" data-path="installation.html"><a href="installation.html#r-studio-settings"><i class="fa fa-check"></i><b>1.4</b> R Studio Settings</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>2</b> Basic R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-r.html"><a href="basic-r.html#creating-r-objects"><i class="fa fa-check"></i><b>2.1</b> Creating R objects</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="basic-r.html"><a href="basic-r.html#classes"><i class="fa fa-check"></i><b>2.1.1</b> Classes</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic-r.html"><a href="basic-r.html#vectors"><i class="fa fa-check"></i><b>2.1.2</b> Vectors</a></li>
<li class="chapter" data-level="2.1.3" data-path="basic-r.html"><a href="basic-r.html#factors"><i class="fa fa-check"></i><b>2.1.3</b> Factors</a></li>
<li class="chapter" data-level="2.1.4" data-path="basic-r.html"><a href="basic-r.html#lists"><i class="fa fa-check"></i><b>2.1.4</b> Lists</a></li>
<li class="chapter" data-level="2.1.5" data-path="basic-r.html"><a href="basic-r.html#data-frames"><i class="fa fa-check"></i><b>2.1.5</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic-r.html"><a href="basic-r.html#ifthen-statements"><i class="fa fa-check"></i><b>2.2</b> If…then Statements</a></li>
<li class="chapter" data-level="2.3" data-path="basic-r.html"><a href="basic-r.html#r-packages"><i class="fa fa-check"></i><b>2.3</b> R Packages</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="basic-r.html"><a href="basic-r.html#installing-and-loading-r-packages"><i class="fa fa-check"></i><b>2.3.1</b> Installing and Loading R Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basic-r.html"><a href="basic-r.html#more-r-basic-resources"><i class="fa fa-check"></i><b>2.4</b> More R Basic Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>3</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loops"><i class="fa fa-check"></i><b>3.1</b> For Loops</a></li>
<li class="chapter" data-level="3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#creating-your-own-functions"><i class="fa fa-check"></i><b>3.2.1</b> Creating Your Own Functions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Working with Data</b></span></li>
<li class="chapter" data-level="4" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>4</b> Tidyverse</a></li>
<li class="chapter" data-level="5" data-path="read-and-write-data.html"><a href="read-and-write-data.html"><i class="fa fa-check"></i><b>5</b> Read and Write Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#csv"><i class="fa fa-check"></i><b>5.1</b> CSV</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#import-.csv"><i class="fa fa-check"></i><b>5.1.1</b> Import <code>.csv</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#output-.csv"><i class="fa fa-check"></i><b>5.1.2</b> Output <code>.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#tab-delimited"><i class="fa fa-check"></i><b>5.2</b> Tab-Delimited</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#import-.txt"><i class="fa fa-check"></i><b>5.2.1</b> Import <code>.txt</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#output-.txt"><i class="fa fa-check"></i><b>5.2.2</b> Output <code>.txt</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="read-and-write-data.html"><a href="read-and-write-data.html#spss"><i class="fa fa-check"></i><b>5.3</b> SPSS</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="read-and-write-data.html"><a href="read-and-write-data.html#import-.sav"><i class="fa fa-check"></i><b>5.3.1</b> Import <code>.sav</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="read-and-write-data.html"><a href="read-and-write-data.html#output-.sav"><i class="fa fa-check"></i><b>5.3.2</b> Output <code>.sav</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="read-and-write-data.html"><a href="read-and-write-data.html#rstudio-import-gui"><i class="fa fa-check"></i><b>5.4</b> RStudio Import GUI</a></li>
<li class="chapter" data-level="5.5" data-path="read-and-write-data.html"><a href="read-and-write-data.html#import-and-merge-multiple-data-files"><i class="fa fa-check"></i><b>5.5</b> Import and Merge Multiple Data Files</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html"><i class="fa fa-check"></i><b>6</b> Data Manipulation using <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#setup"><i class="fa fa-check"></i><b>6.1</b> Setup</a></li>
<li class="chapter" data-level="6.2" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#import"><i class="fa fa-check"></i><b>6.2</b> Import</a></li>
<li class="chapter" data-level="6.3" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#rename"><i class="fa fa-check"></i><b>6.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="6.4" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#filter"><i class="fa fa-check"></i><b>6.4</b> <code>filter()</code></a></li>
<li class="chapter" data-level="6.5" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#select"><i class="fa fa-check"></i><b>6.5</b> <code>select()</code></a></li>
<li class="chapter" data-level="6.6" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#mutate"><i class="fa fa-check"></i><b>6.6</b> <code>mutate()</code></a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#changing-values-in-an-existing-column"><i class="fa fa-check"></i><b>6.6.1</b> Changing values in an existing column</a></li>
<li class="chapter" data-level="6.6.2" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#creating-a-new-column"><i class="fa fa-check"></i><b>6.6.2</b> Creating a new column</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#case_when"><i class="fa fa-check"></i><b>6.7</b> <code>case_when()</code></a></li>
<li class="chapter" data-level="6.8" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#group_by"><i class="fa fa-check"></i><b>6.8</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="6.9" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#summarise"><i class="fa fa-check"></i><b>6.9</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="6.10" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#pivot_wider"><i class="fa fa-check"></i><b>6.10</b> <code>pivot_wider()</code></a></li>
<li class="chapter" data-level="6.11" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#pivot_longer"><i class="fa fa-check"></i><b>6.11</b> <code>pivot_longer()</code></a></li>
<li class="chapter" data-level="6.12" data-path="data-manipulation-using-dplyr.html"><a href="data-manipulation-using-dplyr.html#pipe-operator"><i class="fa fa-check"></i><b>6.12</b> Pipe Operator %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html"><i class="fa fa-check"></i><b>7</b> Common Data Manipulations</a>
<ul>
<li class="chapter" data-level="7.1" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#descriptive-statistics"><i class="fa fa-check"></i><b>7.1</b> Descriptive Statistics</a></li>
<li class="chapter" data-level="7.2" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#centering-and-standardizing-variables"><i class="fa fa-check"></i><b>7.2</b> Centering and Standardizing Variables</a></li>
<li class="chapter" data-level="7.3" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#trimming"><i class="fa fa-check"></i><b>7.3</b> Trimming</a></li>
<li class="chapter" data-level="7.4" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#composites"><i class="fa fa-check"></i><b>7.4</b> Composites</a></li>
<li class="chapter" data-level="7.5" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#scale-transformations"><i class="fa fa-check"></i><b>7.5</b> Scale Transformations</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#polynomial"><i class="fa fa-check"></i><b>7.5.1</b> polynomial</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#custom-transformations"><i class="fa fa-check"></i><b>7.6</b> Custom Transformations</a></li>
<li class="chapter" data-level="7.7" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#row-wise-computations"><i class="fa fa-check"></i><b>7.7</b> Row-wise Computations</a></li>
<li class="chapter" data-level="7.8" data-path="common-data-manipulations.html"><a href="common-data-manipulations.html#remove-subjects-with-too-many-missing-values"><i class="fa fa-check"></i><b>7.8</b> Remove subjects with too many missing values</a></li>
</ul></li>
<li class="part"><span><b>III Analyzing Data</b></span></li>
<li class="chapter" data-level="8" data-path="project-organization.html"><a href="project-organization.html"><i class="fa fa-check"></i><b>8</b> Project Organization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="project-organization.html"><a href="project-organization.html#data-collection-vs.-data-analysis"><i class="fa fa-check"></i><b>8.1</b> Data Collection vs. Data Analysis</a></li>
<li class="chapter" data-level="8.2" data-path="project-organization.html"><a href="project-organization.html#data-collection"><i class="fa fa-check"></i><b>8.2</b> Data Collection</a></li>
<li class="chapter" data-level="8.3" data-path="project-organization.html"><a href="project-organization.html#data-preparation"><i class="fa fa-check"></i><b>8.3</b> Data Preparation</a></li>
<li class="chapter" data-level="8.4" data-path="project-organization.html"><a href="project-organization.html#data-analysis"><i class="fa fa-check"></i><b>8.4</b> Data Analysis</a></li>
<li class="chapter" data-level="8.5" data-path="project-organization.html"><a href="project-organization.html#workflow-package"><i class="fa fa-check"></i><b>8.5</b> <code>workflow</code> package</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="project-organization.html"><a href="project-organization.html#install"><i class="fa fa-check"></i><b>8.5.1</b> Install</a></li>
<li class="chapter" data-level="8.5.2" data-path="project-organization.html"><a href="project-organization.html#create-a-new-r-project"><i class="fa fa-check"></i><b>8.5.2</b> Create a New R Project</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="import-and-output-data-files.html"><a href="import-and-output-data-files.html"><i class="fa fa-check"></i><b>9</b> Import and Output Data Files</a>
<ul>
<li class="chapter" data-level="9.1" data-path="import-and-output-data-files.html"><a href="import-and-output-data-files.html#file-paths"><i class="fa fa-check"></i><b>9.1</b> File Paths</a></li>
<li class="chapter" data-level="9.2" data-path="import-and-output-data-files.html"><a href="import-and-output-data-files.html#rstudio-projects-and-here"><i class="fa fa-check"></i><b>9.2</b> RStudio Projects and here</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html"><i class="fa fa-check"></i><b>10</b> Tidy Raw Data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html#raw-script-template"><i class="fa fa-check"></i><b>10.1</b> Raw Script Template</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html#setup-1"><i class="fa fa-check"></i><b>10.1.1</b> Setup</a></li>
<li class="chapter" data-level="10.1.2" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html#import-1"><i class="fa fa-check"></i><b>10.1.2</b> Import</a></li>
<li class="chapter" data-level="10.1.3" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html#tidy-raw-data-1"><i class="fa fa-check"></i><b>10.1.3</b> Tidy raw data</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html#filter-rows"><i class="fa fa-check"></i><b>10.2</b> Filter Rows</a></li>
<li class="chapter" data-level="10.3" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html#change-values-in-columns"><i class="fa fa-check"></i><b>10.3</b> Change Values in Columns</a></li>
<li class="chapter" data-level="10.4" data-path="tidy-raw-data.html"><a href="tidy-raw-data.html#keep-only-a-few-columns"><i class="fa fa-check"></i><b>10.4</b> Keep only a few Columns</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html"><i class="fa fa-check"></i><b>11</b> Score and Clean Data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#overview"><i class="fa fa-check"></i><b>11.1</b> Overview</a></li>
<li class="chapter" data-level="11.2" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#score-script-template"><i class="fa fa-check"></i><b>11.2</b> Score Script Template</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#setup-2"><i class="fa fa-check"></i><b>11.2.1</b> Setup</a></li>
<li class="chapter" data-level="11.2.2" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#import-2"><i class="fa fa-check"></i><b>11.2.2</b> Import</a></li>
<li class="chapter" data-level="11.2.3" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#data-scoring"><i class="fa fa-check"></i><b>11.2.3</b> Data Scoring</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#group-by-columns"><i class="fa fa-check"></i><b>11.3</b> Group by Columns</a></li>
<li class="chapter" data-level="11.4" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#trim-reaction-time"><i class="fa fa-check"></i><b>11.4</b> Trim Reaction Time</a></li>
<li class="chapter" data-level="11.5" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#summary-statistic"><i class="fa fa-check"></i><b>11.5</b> Summary Statistic</a></li>
<li class="chapter" data-level="11.6" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#transform-data-to-wide"><i class="fa fa-check"></i><b>11.6</b> Transform Data to Wide</a></li>
<li class="chapter" data-level="11.7" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#more-complex-scoring"><i class="fa fa-check"></i><b>11.7</b> More Complex Scoring</a></li>
<li class="chapter" data-level="11.8" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#remove-problematic-subjects"><i class="fa fa-check"></i><b>11.8</b> Remove Problematic Subjects</a></li>
<li class="chapter" data-level="11.9" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#remove-outliers"><i class="fa fa-check"></i><b>11.9</b> Remove Outliers</a></li>
<li class="chapter" data-level="11.10" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#calculate-reliability"><i class="fa fa-check"></i><b>11.10</b> Calculate Reliability</a>
<ul>
<li class="chapter" data-level="11.10.1" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#split-half-reliability"><i class="fa fa-check"></i><b>11.10.1</b> Split-half reliability</a></li>
<li class="chapter" data-level="11.10.2" data-path="score-and-clean-data.html"><a href="score-and-clean-data.html#cronbachs-alpha"><i class="fa fa-check"></i><b>11.10.2</b> Cronbach’s alpha</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="single-merged-file.html"><a href="single-merged-file.html"><i class="fa fa-check"></i><b>12</b> Single Merged File</a>
<ul>
<li class="chapter" data-level="12.1" data-path="single-merged-file.html"><a href="single-merged-file.html#set-up"><i class="fa fa-check"></i><b>12.1</b> Set up</a></li>
<li class="chapter" data-level="12.2" data-path="single-merged-file.html"><a href="single-merged-file.html#import-3"><i class="fa fa-check"></i><b>12.2</b> Import</a></li>
<li class="chapter" data-level="12.3" data-path="single-merged-file.html"><a href="single-merged-file.html#select-only-important-variables"><i class="fa fa-check"></i><b>12.3</b> Select only important variables</a></li>
<li class="chapter" data-level="12.4" data-path="single-merged-file.html"><a href="single-merged-file.html#output"><i class="fa fa-check"></i><b>12.4</b> Output</a></li>
</ul></li>
<li class="part"><span><b>IV Data Visualization</b></span></li>
<li class="chapter" data-level="" data-path="data-visualization-overview.html"><a href="data-visualization-overview.html"><i class="fa fa-check"></i>Data Visualization: Overview</a>
<ul>
<li class="chapter" data-level="" data-path="data-visualization-overview.html"><a href="data-visualization-overview.html#r-markdown"><i class="fa fa-check"></i>R Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="data-visualization-overview.html"><a href="data-visualization-overview.html#what-is-an-r-markdown-file"><i class="fa fa-check"></i>What is an R Markdown File?</a></li>
<li class="chapter" data-level="12.4.1" data-path="data-visualization-overview.html"><a href="data-visualization-overview.html#yaml-header"><i class="fa fa-check"></i><b>12.4.1</b> YAML header</a></li>
<li class="chapter" data-level="" data-path="data-visualization-overview.html"><a href="data-visualization-overview.html#r-code-chunks"><i class="fa fa-check"></i>R code chunks</a></li>
<li class="chapter" data-level="" data-path="data-visualization-overview.html"><a href="data-visualization-overview.html#formatted-text"><i class="fa fa-check"></i>Formatted text</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="fundamentals-of-data-visualization.html"><a href="fundamentals-of-data-visualization.html"><i class="fa fa-check"></i><b>13</b> Fundamentals of Data Visualization</a>
<ul>
<li class="chapter" data-level="13.1" data-path="fundamentals-of-data-visualization.html"><a href="fundamentals-of-data-visualization.html#grammar-of-graphics"><i class="fa fa-check"></i><b>13.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="13.2" data-path="fundamentals-of-data-visualization.html"><a href="fundamentals-of-data-visualization.html#plotting-functions-in-r"><i class="fa fa-check"></i><b>13.2</b> Plotting Functions in R</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>14</b> Introduction to ggplot2</a>
<ul>
<li class="chapter" data-level="14.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#grammar-of-graphics-1"><i class="fa fa-check"></i><b>14.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="14.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#data-layer"><i class="fa fa-check"></i><b>14.2</b> Data layer</a></li>
<li class="chapter" data-level="14.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#aesthetic-layer"><i class="fa fa-check"></i><b>14.3</b> Aesthetic Layer</a></li>
<li class="chapter" data-level="14.4" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#geometries-layer"><i class="fa fa-check"></i><b>14.4</b> Geometries Layer</a></li>
<li class="chapter" data-level="14.5" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#facets-layer"><i class="fa fa-check"></i><b>14.5</b> Facets Layer</a></li>
<li class="chapter" data-level="14.6" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#statistics-layer"><i class="fa fa-check"></i><b>14.6</b> Statistics Layer</a></li>
<li class="chapter" data-level="14.7" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>14.7</b> Coordinates Layer</a></li>
<li class="chapter" data-level="14.8" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#themes-layer"><i class="fa fa-check"></i><b>14.8</b> Themes Layer</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#built-in-themes"><i class="fa fa-check"></i><b>14.8.1</b> Built-in Themes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="scatterplots.html"><a href="scatterplots.html"><i class="fa fa-check"></i><b>15</b> Scatterplots</a>
<ul>
<li class="chapter" data-level="15.1" data-path="scatterplots.html"><a href="scatterplots.html#scatterplots-1"><i class="fa fa-check"></i><b>15.1</b> Scatterplots</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="scatterplots.html"><a href="scatterplots.html#adding-other-geoms"><i class="fa fa-check"></i><b>15.1.1</b> Adding other geoms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="plotting-means.html"><a href="plotting-means.html"><i class="fa fa-check"></i><b>16</b> Plotting Means</a>
<ul>
<li class="chapter" data-level="16.1" data-path="plotting-means.html"><a href="plotting-means.html#bar-graphs"><i class="fa fa-check"></i><b>16.1</b> Bar Graphs</a></li>
<li class="chapter" data-level="16.2" data-path="plotting-means.html"><a href="plotting-means.html#alternatives-to-bar-graphs"><i class="fa fa-check"></i><b>16.2</b> Alternatives to Bar Graphs</a></li>
<li class="chapter" data-level="16.3" data-path="plotting-means.html"><a href="plotting-means.html#two-way-interaction-plots"><i class="fa fa-check"></i><b>16.3</b> Two-Way Interaction Plots</a></li>
<li class="chapter" data-level="16.4" data-path="plotting-means.html"><a href="plotting-means.html#three-way-interaction-plots"><i class="fa fa-check"></i><b>16.4</b> Three-Way Interaction Plots</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="univariate-plots.html"><a href="univariate-plots.html"><i class="fa fa-check"></i><b>17</b> Univariate Plots</a></li>
<li class="part"><span><b>V Statistical Analysis</b></span></li>
<li class="chapter" data-level="" data-path="statistical-analysis-overview.html"><a href="statistical-analysis-overview.html"><i class="fa fa-check"></i>Statistical Analysis: Overview</a>
<ul>
<li class="chapter" data-level="" data-path="statistical-analysis-overview.html"><a href="statistical-analysis-overview.html#r-markdown-1"><i class="fa fa-check"></i>R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="statistics-in-r.html"><a href="statistics-in-r.html"><i class="fa fa-check"></i><b>18</b> Statistics in R</a></li>
<li class="chapter" data-level="19" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html"><i class="fa fa-check"></i><b>19</b> Structural Equation Modelling</a>
<ul>
<li class="chapter" data-level="19.1" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html#lavaan"><i class="fa fa-check"></i><b>19.1</b> <code>lavaan</code></a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html#building-the-model-object"><i class="fa fa-check"></i><b>19.1.1</b> Building the model object</a></li>
<li class="chapter" data-level="19.1.2" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html#run-the-model"><i class="fa fa-check"></i><b>19.1.2</b> Run the model</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html#semoutput"><i class="fa fa-check"></i><b>19.2</b> <code>semoutput</code></a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html#yaml-header-1"><i class="fa fa-check"></i><b>19.2.1</b> YAML Header</a></li>
<li class="chapter" data-level="19.2.2" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html#cfa-example"><i class="fa fa-check"></i><b>19.2.2</b> CFA Example</a></li>
<li class="chapter" data-level="19.2.3" data-path="structural-equation-modelling.html"><a href="structural-equation-modelling.html#sem-example"><i class="fa fa-check"></i><b>19.2.3</b> SEM Example</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="http://englelab.gatech.edu/useRguide/EngleLab_CheatSheet.pdf">Cheatsheet</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EngleLab: useRguide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="structural-equation-modelling" class="section level1" number="19">
<h1><span class="header-section-number">19</span> Structural Equation Modelling</h1>
<p><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"></p>
<p>By far the most common statistical analyses we do in this lab are confirmatory factor analysis (CFA) and structural equation modeling (SEM).</p>
<p>This Chapter will cover how to conduct CFA’s and SEM’s in R using the <code>lavaan</code> package.</p>
<div id="lavaan" class="section level2" number="19.1">
<h2><span class="header-section-number">19.1</span> <code>lavaan</code></h2>
<p>Install the <code>lavaan</code> package</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="structural-equation-modelling.html#cb261-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;lavaan&quot;</span>)</span></code></pre></div>
<p>Visit the <a href="http://lavaan.ugent.be" target="_blank">lavaan website</a> and navigate to the <strong>Tutorial</strong> tab.</p>
<p>This is an excellent resource for you to consult if you forget any syntax or want more details on using <em>lavaan</em>. You should go over the full tutorial yourself, but I will go ahead and cover the basics here.</p>
<p>There are only two main steps to run a lavaan model.</p>
<ol style="list-style-type: decimal">
<li><p>Build the model object</p></li>
<li><p>Run the model with <code>cfa()</code> or <code>sem()</code></p></li>
</ol>
<div id="building-the-model-object" class="section level3" number="19.1.1">
<h3><span class="header-section-number">19.1.1</span> Building the model object</h3>
<p>The model object is where you specify the model equation for the CFA or SEM. It is actually very easy and intuitive to do. Basically you specify the model equation within single quotes and pass it to an object called model. Let’s say we have want to run a model corresponding to this model diagram:</p>
<p><img src="images/stats/cfa_example.png" width="40%" /></p>
<p>We would simply specify:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="structural-equation-modelling.html#cb262-1"></a>model &lt;-<span class="st"> &#39; </span></span>
<span id="cb262-2"><a href="structural-equation-modelling.html#cb262-2"></a><span class="st">visual  =~ x1 + x2 + x3 </span></span>
<span id="cb262-3"><a href="structural-equation-modelling.html#cb262-3"></a><span class="st">textual =~ x4 + x5 + x6</span></span>
<span id="cb262-4"><a href="structural-equation-modelling.html#cb262-4"></a><span class="st">speed   =~ x7 + x8 + x9 </span></span>
<span id="cb262-5"><a href="structural-equation-modelling.html#cb262-5"></a><span class="st">&#39;</span></span></code></pre></div>
<p>This defines a CFA model with three latent factors; <strong>visual</strong>, <strong>textual</strong>, and <strong>speed</strong> with their respective indicators. The indicators need to correspond to column names in the data frame.</p>
<p>There are certain defaults that <code>lavaan</code> uses so that we do not have to specify every single path in the model. For instance, by default it will add correlations between the latent factors in a CFA model. That is why in the model example above, the latent correlations are not explicit, yet they are implicitly part of the model.</p>
<p><strong>Model Syntax</strong></p>
<table>
<thead>
<tr class="header">
<th>formula type</th>
<th>operator</th>
<th>mnemonic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>latent variable definition</td>
<td>=~</td>
<td>is measured by</td>
</tr>
<tr class="even">
<td>regression</td>
<td>~</td>
<td>is regressed on</td>
</tr>
<tr class="odd">
<td>variance/covariance</td>
<td>~~</td>
<td>is correlated with</td>
</tr>
<tr class="even">
<td>new parameter</td>
<td>:=</td>
<td>is defined by</td>
</tr>
</tbody>
</table>
</div>
<div id="run-the-model" class="section level3" number="19.1.2">
<h3><span class="header-section-number">19.1.2</span> Run the model</h3>
<p>Then the model can be ran using <code>cfa()</code> or <code>sem()</code> functions</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="structural-equation-modelling.html#cb263-1"></a>fit &lt;-<span class="st"> </span><span class="kw">cfa</span>(model, data)</span></code></pre></div>
<p>The first two arguments to pass onto the lavaan functions are <code>model</code> and <code>data</code>, respectively. There are other important arguments that we will cover later.</p>
<p>The <code>summary(fit, fit.measures = TRUE, standardized = TRUE)</code> output to a lavaan model looks like</p>
<pre><code>## lavaan 0.6-5 ended normally after 35 iterations
## 
##   Estimator                                         ML
##   Optimization method                           NLMINB
##   Number of free parameters                         21
##                                                       
##   Number of observations                           301
##                                                       
## Model Test User Model:
##                                                       
##   Test statistic                                85.306
##   Degrees of freedom                                24
##   P-value (Chi-square)                           0.000
## 
## Model Test Baseline Model:
## 
##   Test statistic                               918.852
##   Degrees of freedom                                36
##   P-value                                        0.000
## 
## User Model versus Baseline Model:
## 
##   Comparative Fit Index (CFI)                    0.931
##   Tucker-Lewis Index (TLI)                       0.896
## 
## Loglikelihood and Information Criteria:
## 
##   Loglikelihood user model (H0)              -3737.745
##   Loglikelihood unrestricted model (H1)      -3695.092
##                                                       
##   Akaike (AIC)                                7517.490
##   Bayesian (BIC)                              7595.339
##   Sample-size adjusted Bayesian (BIC)         7528.739
## 
## Root Mean Square Error of Approximation:
## 
##   RMSEA                                          0.092
##   90 Percent confidence interval - lower         0.071
##   90 Percent confidence interval - upper         0.114
##   P-value RMSEA &lt;= 0.05                          0.001
## 
## Standardized Root Mean Square Residual:
## 
##   SRMR                                           0.065
## 
## Parameter Estimates:
## 
##   Information                                 Expected
##   Information saturated (h1) model          Structured
##   Standard errors                             Standard
## 
## Latent Variables:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
##   visual =~                                                             
##     x1                1.000                               0.900    0.772
##     x2                0.554    0.100    5.554    0.000    0.498    0.424
##     x3                0.729    0.109    6.685    0.000    0.656    0.581
##   textual =~                                                            
##     x4                1.000                               0.990    0.852
##     x5                1.113    0.065   17.014    0.000    1.102    0.855
##     x6                0.926    0.055   16.703    0.000    0.917    0.838
##   speed =~                                                              
##     x7                1.000                               0.619    0.570
##     x8                1.180    0.165    7.152    0.000    0.731    0.723
##     x9                1.082    0.151    7.155    0.000    0.670    0.665
## 
## Covariances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
##   visual ~~                                                             
##     textual           0.408    0.074    5.552    0.000    0.459    0.459
##     speed             0.262    0.056    4.660    0.000    0.471    0.471
##   textual ~~                                                            
##     speed             0.173    0.049    3.518    0.000    0.283    0.283
## 
## Variances:
##                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
##    .x1                0.549    0.114    4.833    0.000    0.549    0.404
##    .x2                1.134    0.102   11.146    0.000    1.134    0.821
##    .x3                0.844    0.091    9.317    0.000    0.844    0.662
##    .x4                0.371    0.048    7.779    0.000    0.371    0.275
##    .x5                0.446    0.058    7.642    0.000    0.446    0.269
##    .x6                0.356    0.043    8.277    0.000    0.356    0.298
##    .x7                0.799    0.081    9.823    0.000    0.799    0.676
##    .x8                0.488    0.074    6.573    0.000    0.488    0.477
##    .x9                0.566    0.071    8.003    0.000    0.566    0.558
##     visual            0.809    0.145    5.564    0.000    1.000    1.000
##     textual           0.979    0.112    8.737    0.000    1.000    1.000
##     speed             0.384    0.086    4.451    0.000    1.000    1.000</code></pre>
<p><strong>Yikes!!</strong></p>
<p>You really should learn to understand this output, but nicer looking output would be nice right?</p>
<p>This is where my <code>semoutput</code> package comes in handy.</p>
</div>
</div>
<div id="semoutput" class="section level2" number="19.2">
<h2><span class="header-section-number">19.2</span> <code>semoutput</code></h2>
<p>If you have not done so already open the RStudio project file for this tutorial.</p>
<hr />
<div style="text-align: center; font-size: 1.25em">
<p><a href="http://englelab.gatech.edu/useRguide/data/PoliticalDemocracy.csv"><i class="fas fa-download" style="font-size: 3em"></i></a></p>
<p><a href="http://englelab.gatech.edu/useRguide/data/PoliticalDemocracy.csv"><strong>Download the PoliticalDemocracy dataset used in the <code>lavaan</code> tutorial</strong></a></p>
</div>
<hr />
<p>Save it to the folder <strong>Data Files</strong> of your project directory.</p>
<p>Install <code>semoutput</code></p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="structural-equation-modelling.html#cb265-1"></a>devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;dr-JT/semoutput&quot;</span>)</span></code></pre></div>
<p>Additional packages you will need to have installed</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="structural-equation-modelling.html#cb266-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;sjPlot&quot;</span>)</span>
<span id="cb266-2"><a href="structural-equation-modelling.html#cb266-2"></a><span class="kw">install.packages</span>(<span class="st">&quot;semPlot&quot;</span>)</span></code></pre></div>
<p>Once you install <code>semoutput</code> you should Restart R by going to:</p>
<p>Session -&gt; Restart R</p>
<p>You can download an R Markdown template for doing CFA and SEM in <code>lavaan</code>. Go to:</p>
<p>File -&gt; New File -&gt; R Markdown…From Template -&gt; CFA/SEM (lavaan)</p>
<div id="yaml-header-1" class="section level3" number="19.2.1">
<h3><span class="header-section-number">19.2.1</span> YAML Header</h3>
<p>At the top of the document is what is called the YAML header. Here is where you can specify certain parameters that you may want to use as default in your analyses.</p>
<p>You also need to specify the location and name of the data file you will be working with</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="structural-equation-modelling.html#cb267-1"></a>params<span class="op">:</span></span>
<span id="cb267-2"><a href="structural-equation-modelling.html#cb267-2"></a><span class="st">  </span>import.file<span class="op">:</span><span class="st"> &quot;&quot;</span>       <span class="co"># Relative file path to data</span></span>
<span id="cb267-3"><a href="structural-equation-modelling.html#cb267-3"></a>  mimic<span class="op">:</span><span class="st"> &quot;lavaan&quot;</span>       <span class="co"># Which software program to mimic for estimating models</span></span>
<span id="cb267-4"><a href="structural-equation-modelling.html#cb267-4"></a>  missing<span class="op">:</span><span class="st"> &quot;ML&quot;</span>         <span class="co"># How to deal with missing values: &quot;ML&quot; or &quot;listwise&quot;</span></span>
<span id="cb267-5"><a href="structural-equation-modelling.html#cb267-5"></a>  std.lv<span class="op">:</span><span class="st"> </span><span class="ot">TRUE</span>          <span class="co"># For CFAs, default setting whether to set latent variances to 1 or not</span></span>
<span id="cb267-6"><a href="structural-equation-modelling.html#cb267-6"></a>  std.ov<span class="op">:</span><span class="st"> </span><span class="ot">FALSE</span>         <span class="co"># Standardize all observed varialbes?</span></span>
<span id="cb267-7"><a href="structural-equation-modelling.html#cb267-7"></a>  se<span class="op">:</span><span class="st"> &quot;standard&quot;</span>        <span class="co"># How to calcualte standard errors: &quot;standard&quot; or &quot;bootstrap&quot;</span></span>
<span id="cb267-8"><a href="structural-equation-modelling.html#cb267-8"></a>  bootstrap<span class="op">:</span><span class="st"> </span><span class="dv">1000</span>       <span class="co"># If se = &quot;bootstrap&quot; how many boostrap samples?</span></span></code></pre></div>
<p><em>skipping the efa example for now</em></p>
<p>The first R code chunk <strong>Required Packages</strong> is where you should load any packages used in the document.</p>
<p>The next R code chunk is where the data file is imported.</p>
<p>The next two R code chunk’s print out a descriptive and correlational tables.</p>
<p>The next section is a template for conducting an exploratory factor analysis with <code>psych::fa()</code>. Let’s skip this for now.</p>
<p>The next two sections are templates for CFA and SEM using <code>lavaan</code>. For each CFA and SEM section there are 4 subsections.</p>
<ul>
<li><p>The “Summary Output” subsection displays nice looking tables summarizing the model results</p></li>
<li><p>The “Diagram Output” subsection will display a model diagram</p></li>
<li><p>The “Residual Correlation Matrix” subsection will display the residual correlation matrix</p></li>
<li><p>The “Full Output” subsection will display the results from summary() along with parameter estimates and modification indices. This way you can still get the full output from a lavaan model as it provides more information than the “Summary Output”. You can also add additional output to this section if you need more info about the model.</p></li>
</ul>
</div>
<div id="cfa-example" class="section level3" number="19.2.2">
<h3><span class="header-section-number">19.2.2</span> CFA Example</h3>
<p>Ultimately we will run the following SEM model. First let’s conduct a CFA of the model.</p>
<p><img src="images/stats/sem_example.png" width="60%" /></p>
<p>The following error residuals are correlated:</p>
<p>y1 and y5; y2 and y4; y2 and y6; y3 and y7; y4 and y8; y6 and y8</p>
<p>To correlate error residuals you would specify:</p>
<pre><code>y1 ~~ y5</code></pre>
<p>Move down to the CFA section. First, you need to create a list of the latent factor labels (this is for the output and not running a <code>lavaan</code> model).</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="structural-equation-modelling.html#cb269-1"></a>factors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;dem60&quot;</span>, <span class="st">&quot;ind60&quot;</span>, <span class="st">&quot;dem65&quot;</span>)</span></code></pre></div>
<p>Then specify the model equation. The commented lines (e.g. # latent factors) are just optional and can be changed or removed. Remember, the factor correlations are implied.</p>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="structural-equation-modelling.html#cb270-1"></a>model &lt;-<span class="st"> &#39;</span></span>
<span id="cb270-2"><a href="structural-equation-modelling.html#cb270-2"></a><span class="st"># latent factors</span></span>
<span id="cb270-3"><a href="structural-equation-modelling.html#cb270-3"></a></span>
<span id="cb270-4"><a href="structural-equation-modelling.html#cb270-4"></a><span class="st"># correlated errors</span></span>
<span id="cb270-5"><a href="structural-equation-modelling.html#cb270-5"></a></span>
<span id="cb270-6"><a href="structural-equation-modelling.html#cb270-6"></a><span class="st"># constraints</span></span>
<span id="cb270-7"><a href="structural-equation-modelling.html#cb270-7"></a></span>
<span id="cb270-8"><a href="structural-equation-modelling.html#cb270-8"></a><span class="st">&#39;</span></span></code></pre></div>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="structural-equation-modelling.html#cb271-1"></a>model &lt;-<span class="st"> &#39;</span></span>
<span id="cb271-2"><a href="structural-equation-modelling.html#cb271-2"></a><span class="st"># latent factors</span></span>
<span id="cb271-3"><a href="structural-equation-modelling.html#cb271-3"></a><span class="st">dem60 =~ y1 + y2 + y3 + y4</span></span>
<span id="cb271-4"><a href="structural-equation-modelling.html#cb271-4"></a><span class="st">ind60 =~ x1 + x2 + x3</span></span>
<span id="cb271-5"><a href="structural-equation-modelling.html#cb271-5"></a><span class="st">dem65 =~ y5 + y6 + y7 + y8</span></span>
<span id="cb271-6"><a href="structural-equation-modelling.html#cb271-6"></a></span>
<span id="cb271-7"><a href="structural-equation-modelling.html#cb271-7"></a><span class="st"># correlated errors</span></span>
<span id="cb271-8"><a href="structural-equation-modelling.html#cb271-8"></a><span class="st">y1 ~~ y5</span></span>
<span id="cb271-9"><a href="structural-equation-modelling.html#cb271-9"></a><span class="st">y2 ~~ y4</span></span>
<span id="cb271-10"><a href="structural-equation-modelling.html#cb271-10"></a><span class="st">y2 ~~ y6</span></span>
<span id="cb271-11"><a href="structural-equation-modelling.html#cb271-11"></a><span class="st">y3 ~~ y7</span></span>
<span id="cb271-12"><a href="structural-equation-modelling.html#cb271-12"></a><span class="st">y4 ~~ y8</span></span>
<span id="cb271-13"><a href="structural-equation-modelling.html#cb271-13"></a><span class="st">y6 ~~ y8</span></span>
<span id="cb271-14"><a href="structural-equation-modelling.html#cb271-14"></a></span>
<span id="cb271-15"><a href="structural-equation-modelling.html#cb271-15"></a><span class="st"># constraints</span></span>
<span id="cb271-16"><a href="structural-equation-modelling.html#cb271-16"></a></span>
<span id="cb271-17"><a href="structural-equation-modelling.html#cb271-17"></a><span class="st">&#39;</span></span></code></pre></div>
<p>You do not need to change anything for <code>cfa()</code>. Unless you want to change some of the defaults you set in the YAML header.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="structural-equation-modelling.html#cb272-1"></a>fit &lt;-<span class="st"> </span><span class="kw">cfa</span>(<span class="dt">model =</span> model, <span class="dt">data =</span> data, </span>
<span id="cb272-2"><a href="structural-equation-modelling.html#cb272-2"></a>           <span class="dt">mimic =</span> params<span class="op">$</span>mimic, <span class="dt">missing =</span> params<span class="op">$</span>missing, </span>
<span id="cb272-3"><a href="structural-equation-modelling.html#cb272-3"></a>           <span class="dt">std.lv =</span> params<span class="op">$</span>std.lv, <span class="dt">std.ov =</span> params<span class="op">$</span>std.ov,</span>
<span id="cb272-4"><a href="structural-equation-modelling.html#cb272-4"></a>           <span class="dt">se =</span> params<span class="op">$</span>se, <span class="dt">bootstrap =</span> params<span class="op">$</span>bootstrap)</span></code></pre></div>
<p>Run this R code chunk by pressing the green arrow button. Then run each R code chunk in each subsection to print the output.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="structural-equation-modelling.html#cb273-1"></a><span class="kw">sem_sig</span>(fit)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-328">Table 19.1: </span>Model Significance
</caption>
<thead>
<tr>
<th style="text-align:right;">
Sample.Size
</th>
<th style="text-align:right;">
Chi.Square
</th>
<th style="text-align:right;">
df
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
38.125
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0.329
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="structural-equation-modelling.html#cb274-1"></a><span class="kw">sem_fitmeasures</span>(fit)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-328">Table 19.1: </span>Model Fit Measures
</caption>
<thead>
<tr>
<th style="text-align:right;">
CFI
</th>
<th style="text-align:right;">
RMSEA
</th>
<th style="text-align:right;">
RMSEA.Lower
</th>
<th style="text-align:right;">
RMSEA.Upper
</th>
<th style="text-align:right;">
AIC
</th>
<th style="text-align:right;">
BIC
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.995
</td>
<td style="text-align:right;">
0.035
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.092
</td>
<td style="text-align:right;">
3179.582
</td>
<td style="text-align:right;">
3276.916
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="structural-equation-modelling.html#cb275-1"></a><span class="kw">sem_factorloadings</span>(fit, <span class="dt">standardized =</span> <span class="ot">TRUE</span>, <span class="dt">ci =</span> <span class="st">&quot;standardized&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-328">Table 19.1: </span>Factor Loadings
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="7">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Standardized
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Latent Factor
</th>
<th style="text-align:left;">
Indicator
</th>
<th style="text-align:right;">
Loadings
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
<th style="text-align:right;">
z
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.850
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.765
</td>
<td style="text-align:right;">
0.936
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.435
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.717
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.592
</td>
<td style="text-align:right;">
0.843
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.207
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.722
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.596
</td>
<td style="text-align:right;">
0.849
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.221
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.846
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.759
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.020
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.920
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.874
</td>
<td style="text-align:right;">
0.965
</td>
<td style="text-align:right;">
0.023
</td>
<td style="text-align:right;">
39.658
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.973
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.941
</td>
<td style="text-align:right;">
1.005
</td>
<td style="text-align:right;">
0.017
</td>
<td style="text-align:right;">
58.917
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.872
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.812
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.031
</td>
<td style="text-align:right;">
28.304
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.808
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.713
</td>
<td style="text-align:right;">
0.903
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
16.698
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.746
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.634
</td>
<td style="text-align:right;">
0.858
</td>
<td style="text-align:right;">
0.057
</td>
<td style="text-align:right;">
13.031
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.824
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.734
</td>
<td style="text-align:right;">
0.913
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.063
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.828
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.738
</td>
<td style="text-align:right;">
0.918
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.030
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb276-1"><a href="structural-equation-modelling.html#cb276-1"></a><span class="kw">sem_factorcor</span>(fit, <span class="dt">factors =</span> factors)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-328">Table 19.1: </span>Latent Factor Correlations
</caption>
<thead>
<tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
r
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:right;">
0.447
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.242
</td>
<td style="text-align:right;">
0.652
</td>
<td style="text-align:right;">
0.105
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.967
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.909
</td>
<td style="text-align:right;">
1.024
</td>
<td style="text-align:right;">
0.029
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.578
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.403
</td>
<td style="text-align:right;">
0.753
</td>
<td style="text-align:right;">
0.089
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="structural-equation-modelling.html#cb277-1"></a><span class="kw">sem_factorvar</span>(fit, <span class="dt">factors =</span> factors)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-328">Table 19.1: </span>Latent Factor Variance/Residual Variance
</caption>
<thead>
<tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
var
</th>
<th style="text-align:right;">
var.std
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
</tr>
</thead>
<tbody>
<tr>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb278-1"><a href="structural-equation-modelling.html#cb278-1"></a><span class="kw">sem_rsquared</span>(fit)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-328">Table 19.1: </span>R-Squared Values
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
R-Squared
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.7232242
</td>
</tr>
<tr>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.5142640
</td>
</tr>
<tr>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.5217883
</td>
</tr>
<tr>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.7152245
</td>
</tr>
<tr>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.8461294
</td>
</tr>
<tr>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.9467924
</td>
</tr>
<tr>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.7606256
</td>
</tr>
<tr>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.6528920
</td>
</tr>
<tr>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.5565270
</td>
</tr>
<tr>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.6784378
</td>
</tr>
<tr>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.6853215
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="structural-equation-modelling.html#cb279-1"></a><span class="kw">semPaths</span>(fit, <span class="dt">latents =</span> factors, <span class="dt">whatLabels =</span> <span class="st">&quot;std&quot;</span>, <span class="dt">layout =</span> <span class="st">&quot;tree2&quot;</span>, </span>
<span id="cb279-2"><a href="structural-equation-modelling.html#cb279-2"></a>         <span class="dt">rotation =</span> <span class="dv">2</span>, <span class="dt">style =</span> <span class="st">&quot;lisrel&quot;</span>, <span class="dt">optimizeLatRes =</span> <span class="ot">TRUE</span>, </span>
<span id="cb279-3"><a href="structural-equation-modelling.html#cb279-3"></a>         <span class="dt">intercepts =</span> <span class="ot">FALSE</span>, <span class="dt">residuals =</span> <span class="ot">TRUE</span>, <span class="dt">curve =</span> <span class="dv">1</span>, <span class="dt">curvature =</span> <span class="dv">2</span>, </span>
<span id="cb279-4"><a href="structural-equation-modelling.html#cb279-4"></a>         <span class="dt">sizeLat =</span> <span class="dv">10</span>, <span class="dt">nCharNodes =</span> <span class="dv">8</span>, <span class="dt">sizeMan =</span> <span class="dv">11</span>, <span class="dt">sizeMan2 =</span> <span class="dv">4</span>, </span>
<span id="cb279-5"><a href="structural-equation-modelling.html#cb279-5"></a>         <span class="dt">edge.label.cex =</span> <span class="fl">1.2</span>, <span class="dt">edge.color =</span> <span class="st">&quot;#000000&quot;</span>)</span></code></pre></div>
<p><img src="EngleLab-useRguide_files/figure-html/unnamed-chunk-329-1.png" width="672" /></p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb280-1"><a href="structural-equation-modelling.html#cb280-1"></a><span class="kw">modificationIndices</span>(fit, <span class="dt">sort. =</span> <span class="ot">TRUE</span>, <span class="dt">minimum.value =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>##      lhs op rhs    mi    epc sepc.lv sepc.all sepc.nox
## 59 ind60 =~  y4 4.796  0.577   0.577    0.174    0.174
## 60 ind60 =~  y5 4.456  0.559   0.559    0.215    0.215
## 67 dem65 =~  y4 4.260  2.986   2.986    0.898    0.898
## 72    y1 ~~  y3 3.771  0.849   0.849    0.274    0.274
## 81    y2 ~~  x1 3.040 -0.155  -0.155   -0.200   -0.200</code></pre>
</div>
<div id="sem-example" class="section level3" number="19.2.3">
<h3><span class="header-section-number">19.2.3</span> SEM Example</h3>
<p>Now let’s run the actual SEM model. Really the only difference is that we will add some regression paths</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb282-1"><a href="structural-equation-modelling.html#cb282-1"></a>factors &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;dem60&quot;</span>, <span class="st">&quot;ind60&quot;</span>, <span class="st">&quot;dem65&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="structural-equation-modelling.html#cb283-1"></a>model &lt;-<span class="st"> &#39;</span></span>
<span id="cb283-2"><a href="structural-equation-modelling.html#cb283-2"></a><span class="st"># latent factors</span></span>
<span id="cb283-3"><a href="structural-equation-modelling.html#cb283-3"></a><span class="st">dem60 =~ y1 + y2 + y3 + y4</span></span>
<span id="cb283-4"><a href="structural-equation-modelling.html#cb283-4"></a><span class="st">ind60 =~ x1 + x2 + x3</span></span>
<span id="cb283-5"><a href="structural-equation-modelling.html#cb283-5"></a><span class="st">dem65 =~ y5 + y6 + y7 + y8</span></span>
<span id="cb283-6"><a href="structural-equation-modelling.html#cb283-6"></a></span>
<span id="cb283-7"><a href="structural-equation-modelling.html#cb283-7"></a><span class="st"># variances</span></span>
<span id="cb283-8"><a href="structural-equation-modelling.html#cb283-8"></a></span>
<span id="cb283-9"><a href="structural-equation-modelling.html#cb283-9"></a><span class="st"># covariances</span></span>
<span id="cb283-10"><a href="structural-equation-modelling.html#cb283-10"></a><span class="st">y1 ~~ y5</span></span>
<span id="cb283-11"><a href="structural-equation-modelling.html#cb283-11"></a><span class="st">y2 ~~ y4</span></span>
<span id="cb283-12"><a href="structural-equation-modelling.html#cb283-12"></a><span class="st">y2 ~~ y6</span></span>
<span id="cb283-13"><a href="structural-equation-modelling.html#cb283-13"></a><span class="st">y3 ~~ y7</span></span>
<span id="cb283-14"><a href="structural-equation-modelling.html#cb283-14"></a><span class="st">y4 ~~ y8</span></span>
<span id="cb283-15"><a href="structural-equation-modelling.html#cb283-15"></a><span class="st">y6 ~~ y8</span></span>
<span id="cb283-16"><a href="structural-equation-modelling.html#cb283-16"></a></span>
<span id="cb283-17"><a href="structural-equation-modelling.html#cb283-17"></a><span class="st"># regressions</span></span>
<span id="cb283-18"><a href="structural-equation-modelling.html#cb283-18"></a><span class="st">dem65 ~ dem60 + ind60</span></span>
<span id="cb283-19"><a href="structural-equation-modelling.html#cb283-19"></a><span class="st">dem60 ~ ind60</span></span>
<span id="cb283-20"><a href="structural-equation-modelling.html#cb283-20"></a><span class="st">&#39;</span></span></code></pre></div>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="structural-equation-modelling.html#cb284-1"></a>fit &lt;-<span class="st"> </span><span class="kw">sem</span>(<span class="dt">model =</span> model, <span class="dt">data =</span> data, </span>
<span id="cb284-2"><a href="structural-equation-modelling.html#cb284-2"></a>           <span class="dt">mimic =</span> params<span class="op">$</span>mimic, <span class="dt">missing =</span> params<span class="op">$</span>missing, </span>
<span id="cb284-3"><a href="structural-equation-modelling.html#cb284-3"></a>           <span class="dt">std.lv =</span> <span class="ot">FALSE</span>, <span class="dt">std.ov =</span> params<span class="op">$</span>std.ov,</span>
<span id="cb284-4"><a href="structural-equation-modelling.html#cb284-4"></a>           <span class="dt">se =</span> params<span class="op">$</span>se, <span class="dt">bootstrap =</span> params<span class="op">$</span>bootstrap)</span></code></pre></div>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="structural-equation-modelling.html#cb285-1"></a><span class="kw">sem_sig</span>(fit)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-334">Table 19.2: </span>Model Significance
</caption>
<thead>
<tr>
<th style="text-align:right;">
Sample.Size
</th>
<th style="text-align:right;">
Chi.Square
</th>
<th style="text-align:right;">
df
</th>
<th style="text-align:right;">
p.value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
38.125
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0.329
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="structural-equation-modelling.html#cb286-1"></a><span class="kw">sem_fitmeasures</span>(fit)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-334">Table 19.2: </span>Model Fit Measures
</caption>
<thead>
<tr>
<th style="text-align:right;">
CFI
</th>
<th style="text-align:right;">
RMSEA
</th>
<th style="text-align:right;">
RMSEA.Lower
</th>
<th style="text-align:right;">
RMSEA.Upper
</th>
<th style="text-align:right;">
AIC
</th>
<th style="text-align:right;">
BIC
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.995
</td>
<td style="text-align:right;">
0.035
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.092
</td>
<td style="text-align:right;">
3179.582
</td>
<td style="text-align:right;">
3276.916
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="structural-equation-modelling.html#cb287-1"></a><span class="kw">sem_factorloadings</span>(fit, <span class="dt">standardized =</span> <span class="ot">TRUE</span>, <span class="dt">ci =</span> <span class="st">&quot;standardized&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-334">Table 19.2: </span>Factor Loadings
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="7">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Standardized
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Latent Factor
</th>
<th style="text-align:left;">
Indicator
</th>
<th style="text-align:right;">
Loadings
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
<th style="text-align:right;">
z
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.850
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.765
</td>
<td style="text-align:right;">
0.936
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.435
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.717
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.592
</td>
<td style="text-align:right;">
0.843
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.207
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.722
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.596
</td>
<td style="text-align:right;">
0.849
</td>
<td style="text-align:right;">
0.064
</td>
<td style="text-align:right;">
11.221
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.846
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.759
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
19.020
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.920
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.874
</td>
<td style="text-align:right;">
0.965
</td>
<td style="text-align:right;">
0.023
</td>
<td style="text-align:right;">
39.658
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.973
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.941
</td>
<td style="text-align:right;">
1.005
</td>
<td style="text-align:right;">
0.017
</td>
<td style="text-align:right;">
58.917
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.872
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.812
</td>
<td style="text-align:right;">
0.933
</td>
<td style="text-align:right;">
0.031
</td>
<td style="text-align:right;">
28.304
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.808
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.713
</td>
<td style="text-align:right;">
0.903
</td>
<td style="text-align:right;">
0.048
</td>
<td style="text-align:right;">
16.698
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.746
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.634
</td>
<td style="text-align:right;">
0.858
</td>
<td style="text-align:right;">
0.057
</td>
<td style="text-align:right;">
13.031
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.824
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.734
</td>
<td style="text-align:right;">
0.913
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.063
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.828
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0.738
</td>
<td style="text-align:right;">
0.918
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
18.030
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="structural-equation-modelling.html#cb288-1"></a><span class="kw">sem_paths</span>(fit, <span class="dt">standardized =</span> <span class="ot">TRUE</span>, <span class="dt">ci =</span> <span class="st">&quot;standardized&quot;</span>)</span></code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-334">Table 19.2: </span>Regression Paths
</caption>
<thead>
<tr>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden" colspan="1">
</th>
<th style="border-bottom:hidden; padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="7">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Standardized
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Predictor
</th>
<th style="text-align:left;">
DV
</th>
<th style="text-align:right;">
Path Values
</th>
<th style="text-align:right;">
SE
</th>
<th style="text-align:right;">
z
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.885
</td>
<td style="text-align:right;">
0.052
</td>
<td style="text-align:right;">
17.100
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.784
</td>
<td style="text-align:right;">
0.987
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.182
</td>
<td style="text-align:right;">
0.073
</td>
<td style="text-align:right;">
2.498
</td>
<td style="text-align:left;">
<ul>
<li></td>
<td style="text-align:right;">
0.013
</td>
<td style="text-align:right;">
0.039
</td>
<td style="text-align:right;">
0.325
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:right;">
0.447
</td>
<td style="text-align:right;">
0.105
</td>
<td style="text-align:right;">
4.267
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
<td style="text-align:right;">
0.242
</td>
<td style="text-align:right;">
0.652
</td>
</tr>
</tbody>
</table></li>
</ul>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="structural-equation-modelling.html#cb289-1"></a><span class="kw">sem_factorcor</span>(fit, <span class="dt">factors =</span> factors)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-334">Table 19.2: </span>Latent Factor Correlations
</caption>
<thead>
<tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
r
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
<th style="text-align:right;">
Lower.CI
</th>
<th style="text-align:right;">
Upper.CI
</th>
<th style="text-align:right;">
SE
</th>
</tr>
</thead>
<tbody>
<tr>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="structural-equation-modelling.html#cb290-1"></a><span class="kw">sem_factorvar</span>(fit, <span class="dt">factors =</span> factors)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-334">Table 19.2: </span>Latent Factor Variance/Residual Variance
</caption>
<thead>
<tr>
<th style="text-align:left;">
Factor 1
</th>
<th style="text-align:left;">
Factor 2
</th>
<th style="text-align:right;">
var
</th>
<th style="text-align:right;">
var.std
</th>
<th style="text-align:left;">
sig
</th>
<th style="text-align:right;">
p
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:right;">
3.956
</td>
<td style="text-align:right;">
0.800
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:left;">
ind60
</td>
<td style="text-align:right;">
0.448
</td>
<td style="text-align:right;">
1.000
</td>
<td style="text-align:left;">
***
</td>
<td style="text-align:right;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.172
</td>
<td style="text-align:right;">
0.039
</td>
<td style="text-align:left;">
</td>
<td style="text-align:right;">
0.434
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="structural-equation-modelling.html#cb291-1"></a><span class="kw">sem_rsquared</span>(fit)</span></code></pre></div>
<table class="table" style="width: auto !important; ">
<caption>
<span id="tab:unnamed-chunk-334">Table 19.2: </span>R-Squared Values
</caption>
<thead>
<tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:right;">
R-Squared
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
y1
</td>
<td style="text-align:right;">
0.7232243
</td>
</tr>
<tr>
<td style="text-align:left;">
y2
</td>
<td style="text-align:right;">
0.5142639
</td>
</tr>
<tr>
<td style="text-align:left;">
y3
</td>
<td style="text-align:right;">
0.5217879
</td>
</tr>
<tr>
<td style="text-align:left;">
y4
</td>
<td style="text-align:right;">
0.7152243
</td>
</tr>
<tr>
<td style="text-align:left;">
x1
</td>
<td style="text-align:right;">
0.8461294
</td>
</tr>
<tr>
<td style="text-align:left;">
x2
</td>
<td style="text-align:right;">
0.9467924
</td>
</tr>
<tr>
<td style="text-align:left;">
x3
</td>
<td style="text-align:right;">
0.7606255
</td>
</tr>
<tr>
<td style="text-align:left;">
y5
</td>
<td style="text-align:right;">
0.6528920
</td>
</tr>
<tr>
<td style="text-align:left;">
y6
</td>
<td style="text-align:right;">
0.5565263
</td>
</tr>
<tr>
<td style="text-align:left;">
y7
</td>
<td style="text-align:right;">
0.6784382
</td>
</tr>
<tr>
<td style="text-align:left;">
y8
</td>
<td style="text-align:right;">
0.6853214
</td>
</tr>
<tr>
<td style="text-align:left;">
dem60
</td>
<td style="text-align:right;">
0.1995522
</td>
</tr>
<tr>
<td style="text-align:left;">
dem65
</td>
<td style="text-align:right;">
0.9609949
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="structural-equation-modelling.html#cb292-1"></a><span class="kw">semPaths</span>(fit, <span class="dt">latents =</span> factors, <span class="dt">whatLabels =</span> <span class="st">&quot;std&quot;</span>, <span class="dt">layout =</span> <span class="st">&quot;tree2&quot;</span>, </span>
<span id="cb292-2"><a href="structural-equation-modelling.html#cb292-2"></a>         <span class="dt">rotation =</span> <span class="dv">2</span>, <span class="dt">style =</span> <span class="st">&quot;lisrel&quot;</span>, <span class="dt">optimizeLatRes =</span> <span class="ot">TRUE</span>, </span>
<span id="cb292-3"><a href="structural-equation-modelling.html#cb292-3"></a>         <span class="dt">intercepts =</span> <span class="ot">FALSE</span>, <span class="dt">residuals =</span> <span class="ot">TRUE</span>, <span class="dt">curve =</span> <span class="dv">1</span>, <span class="dt">curvature =</span> <span class="dv">2</span>, </span>
<span id="cb292-4"><a href="structural-equation-modelling.html#cb292-4"></a>         <span class="dt">sizeLat =</span> <span class="dv">10</span>, <span class="dt">nCharNodes =</span> <span class="dv">8</span>, <span class="dt">sizeMan =</span> <span class="dv">11</span>, <span class="dt">sizeMan2 =</span> <span class="dv">4</span>, </span>
<span id="cb292-5"><a href="structural-equation-modelling.html#cb292-5"></a>         <span class="dt">edge.label.cex =</span> <span class="fl">1.2</span>, <span class="dt">edge.color =</span> <span class="st">&quot;#000000&quot;</span>)</span></code></pre></div>
<p><img src="EngleLab-useRguide_files/figure-html/unnamed-chunk-335-1.png" width="672" /></p>
<hr />

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistics-in-r.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "github"],
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
