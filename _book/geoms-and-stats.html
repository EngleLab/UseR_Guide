<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R Tutorial and Guide for the EngleLab</title>
  <meta name="description" content="This is an R Tutorial and Guide for the EngleLab">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R Tutorial and Guide for the EngleLab" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an R Tutorial and Guide for the EngleLab" />
  <meta name="github-repo" content="EngleLab" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Tutorial and Guide for the EngleLab" />
  
  <meta name="twitter:description" content="This is an R Tutorial and Guide for the EngleLab" />
  

<meta name="author" content="Jason Tsukahara">


<meta name="date" content="2019-04-21">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="aesthetics.html">
<link rel="next" href="introduction-to-regression-in-r.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-this-guide"><i class="fa fa-check"></i>How to use this guide</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#workflow"><i class="fa fa-check"></i>Workflow</a></li>
</ul></li>
<li class="part"><span><b>I Getting Started in R</b></span></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a><ul>
<li class="chapter" data-level="1.1" data-path="installation.html"><a href="installation.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.2" data-path="installation.html"><a href="installation.html#installing-r-studio"><i class="fa fa-check"></i><b>1.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="1.3" data-path="installation.html"><a href="installation.html#the-r-studio-environemnt"><i class="fa fa-check"></i><b>1.3</b> The R Studio Environemnt</a></li>
<li class="chapter" data-level="1.4" data-path="installation.html"><a href="installation.html#r-studio-settings"><i class="fa fa-check"></i><b>1.4</b> R Studio Settings</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>2</b> Basic R</a><ul>
<li class="chapter" data-level="2.1" data-path="basic-r.html"><a href="basic-r.html#creating-r-objects"><i class="fa fa-check"></i><b>2.1</b> Creating R objects</a><ul>
<li class="chapter" data-level="2.1.1" data-path="basic-r.html"><a href="basic-r.html#classes"><i class="fa fa-check"></i><b>2.1.1</b> Classes</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic-r.html"><a href="basic-r.html#vectors"><i class="fa fa-check"></i><b>2.1.2</b> Vectors</a></li>
<li class="chapter" data-level="2.1.3" data-path="basic-r.html"><a href="basic-r.html#factors"><i class="fa fa-check"></i><b>2.1.3</b> Factors</a></li>
<li class="chapter" data-level="2.1.4" data-path="basic-r.html"><a href="basic-r.html#lists"><i class="fa fa-check"></i><b>2.1.4</b> Lists</a></li>
<li class="chapter" data-level="2.1.5" data-path="basic-r.html"><a href="basic-r.html#data-frames"><i class="fa fa-check"></i><b>2.1.5</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic-r.html"><a href="basic-r.html#ifthen-statements"><i class="fa fa-check"></i><b>2.2</b> If…then Statements</a></li>
<li class="chapter" data-level="2.3" data-path="basic-r.html"><a href="basic-r.html#r-packages"><i class="fa fa-check"></i><b>2.3</b> R Packages</a><ul>
<li class="chapter" data-level="2.3.1" data-path="basic-r.html"><a href="basic-r.html#installing-and-loading-r-packages"><i class="fa fa-check"></i><b>2.3.1</b> Installing and Loading R Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basic-r.html"><a href="basic-r.html#more-r-basic-resources"><i class="fa fa-check"></i><b>2.4</b> More R Basic Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>3</b> Intermediate R</a><ul>
<li class="chapter" data-level="3.1" data-path="intermediate-r.html"><a href="intermediate-r.html#for-loops"><i class="fa fa-check"></i><b>3.1</b> For Loops</a></li>
<li class="chapter" data-level="3.2" data-path="intermediate-r.html"><a href="intermediate-r.html#functions"><i class="fa fa-check"></i><b>3.2</b> Functions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#creating-your-own-functions"><i class="fa fa-check"></i><b>3.2.1</b> Creating Your Own Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow-1.html"><a href="workflow-1.html"><i class="fa fa-check"></i><b>4</b> Workflow</a><ul>
<li class="chapter" data-level="4.1" data-path="workflow-1.html"><a href="workflow-1.html#what-is-real"><i class="fa fa-check"></i><b>4.1</b> What is real?</a></li>
<li class="chapter" data-level="4.2" data-path="workflow-1.html"><a href="workflow-1.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>4.2</b> Where does your analysis live?</a><ul>
<li class="chapter" data-level="4.2.1" data-path="workflow-1.html"><a href="workflow-1.html#project-level"><i class="fa fa-check"></i><b>4.2.1</b> Project Level</a></li>
<li class="chapter" data-level="4.2.2" data-path="workflow-1.html"><a href="workflow-1.html#script-level"><i class="fa fa-check"></i><b>4.2.2</b> Script Level</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="workflow-1.html"><a href="workflow-1.html#r-vs.spss"><i class="fa fa-check"></i><b>4.3</b> R vs. SPSS</a></li>
<li class="chapter" data-level="4.4" data-path="workflow-1.html"><a href="workflow-1.html#the-working-directory"><i class="fa fa-check"></i><b>4.4</b> The Working Directory</a><ul>
<li class="chapter" data-level="4.4.1" data-path="workflow-1.html"><a href="workflow-1.html#r-projects"><i class="fa fa-check"></i><b>4.4.1</b> R Projects</a></li>
<li class="chapter" data-level="4.4.2" data-path="workflow-1.html"><a href="workflow-1.html#herehere"><i class="fa fa-check"></i><b>4.4.2</b> here::here()</a></li>
<li class="chapter" data-level="4.4.3" data-path="workflow-1.html"><a href="workflow-1.html#rstudio-sessions"><i class="fa fa-check"></i><b>4.4.3</b> RStudio Sessions</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="workflow-1.html"><a href="workflow-1.html#loaded-packages"><i class="fa fa-check"></i><b>4.5</b> Loaded Packages</a></li>
<li class="chapter" data-level="4.6" data-path="workflow-1.html"><a href="workflow-1.html#objects"><i class="fa fa-check"></i><b>4.6</b> Objects</a></li>
</ul></li>
<li class="part"><span><b>II Working with Data</b></span></li>
<li class="chapter" data-level="" data-path="the-tidyverse.html"><a href="the-tidyverse.html"><i class="fa fa-check"></i>The tidyverse</a></li>
<li class="chapter" data-level="5" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html"><i class="fa fa-check"></i><b>5</b> Importing and Outputing Data</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#csv"><i class="fa fa-check"></i><b>5.1</b> CSV</a><ul>
<li class="chapter" data-level="5.1.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#import-.csv"><i class="fa fa-check"></i><b>5.1.1</b> Import <code>.csv</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#output-.csv"><i class="fa fa-check"></i><b>5.1.2</b> Output <code>.csv</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#tab-delimited"><i class="fa fa-check"></i><b>5.2</b> Tab-Delimited</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#import-.txt"><i class="fa fa-check"></i><b>5.2.1</b> Import <code>.txt</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#output-.txt"><i class="fa fa-check"></i><b>5.2.2</b> Output <code>.txt</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#spss"><i class="fa fa-check"></i><b>5.3</b> SPSS</a><ul>
<li class="chapter" data-level="5.3.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#import-.sav"><i class="fa fa-check"></i><b>5.3.1</b> Import <code>.sav</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#output-.sav"><i class="fa fa-check"></i><b>5.3.2</b> Output <code>.sav</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#rstudio-import-gui"><i class="fa fa-check"></i><b>5.4</b> RStudio Import GUI</a></li>
<li class="chapter" data-level="5.5" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#workflow-2"><i class="fa fa-check"></i><b>5.5</b> Workflow</a><ul>
<li class="chapter" data-level="5.5.1" data-path="importing-and-outputing-data.html"><a href="importing-and-outputing-data.html#what-is-real-1"><i class="fa fa-check"></i><b>5.5.1</b> What is real?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-manipulations.html"><a href="data-manipulations.html"><i class="fa fa-check"></i><b>6</b> Data Manipulations</a><ul>
<li class="chapter" data-level="6.1" data-path="data-manipulations.html"><a href="data-manipulations.html#dplyr"><i class="fa fa-check"></i><b>6.1</b> dplyr</a><ul>
<li class="chapter" data-level="6.1.1" data-path="data-manipulations.html"><a href="data-manipulations.html#rename"><i class="fa fa-check"></i><b>6.1.1</b> <code>rename()</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="data-manipulations.html"><a href="data-manipulations.html#filter"><i class="fa fa-check"></i><b>6.1.2</b> <code>filter()</code></a></li>
<li class="chapter" data-level="6.1.3" data-path="data-manipulations.html"><a href="data-manipulations.html#select"><i class="fa fa-check"></i><b>6.1.3</b> <code>select()</code></a></li>
<li class="chapter" data-level="6.1.4" data-path="data-manipulations.html"><a href="data-manipulations.html#mutate"><i class="fa fa-check"></i><b>6.1.4</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="6.1.5" data-path="data-manipulations.html"><a href="data-manipulations.html#group_by"><i class="fa fa-check"></i><b>6.1.5</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="6.1.6" data-path="data-manipulations.html"><a href="data-manipulations.html#summarise"><i class="fa fa-check"></i><b>6.1.6</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="6.1.7" data-path="data-manipulations.html"><a href="data-manipulations.html#spread"><i class="fa fa-check"></i><b>6.1.7</b> <code>spread()</code></a></li>
<li class="chapter" data-level="6.1.8" data-path="data-manipulations.html"><a href="data-manipulations.html#pipe-operator"><i class="fa fa-check"></i><b>6.1.8</b> Pipe Operator %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-manipulations.html"><a href="data-manipulations.html#readr---export"><i class="fa fa-check"></i><b>6.2</b> readr - export</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="using-template-scripts.html"><a href="using-template-scripts.html"><i class="fa fa-check"></i><b>7</b> Using Template Scripts</a><ul>
<li class="chapter" data-level="7.1" data-path="using-template-scripts.html"><a href="using-template-scripts.html#building-a-template-workflow"><i class="fa fa-check"></i><b>7.1</b> Building a Template Workflow</a></li>
<li class="chapter" data-level="7.2" data-path="using-template-scripts.html"><a href="using-template-scripts.html#the-masterscript.r"><i class="fa fa-check"></i><b>7.2</b> The <code>masterscript.R</code></a></li>
<li class="chapter" data-level="7.3" data-path="using-template-scripts.html"><a href="using-template-scripts.html#folder-organization"><i class="fa fa-check"></i><b>7.3</b> Folder Organization</a></li>
<li class="chapter" data-level="7.4" data-path="using-template-scripts.html"><a href="using-template-scripts.html#naming-r-scripts"><i class="fa fa-check"></i><b>7.4</b> Naming R Scripts</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="common-data-transformations.html"><a href="common-data-transformations.html"><i class="fa fa-check"></i><b>8</b> Common Data Transformations</a><ul>
<li class="chapter" data-level="8.1" data-path="common-data-transformations.html"><a href="common-data-transformations.html#descriptive-statistics"><i class="fa fa-check"></i><b>8.1</b> Descriptive Statistics</a></li>
<li class="chapter" data-level="8.2" data-path="common-data-transformations.html"><a href="common-data-transformations.html#centering-and-standardizing-variables"><i class="fa fa-check"></i><b>8.2</b> Centering and Standardizing Variables</a><ul>
<li class="chapter" data-level="8.2.1" data-path="common-data-transformations.html"><a href="common-data-transformations.html#scale"><i class="fa fa-check"></i><b>8.2.1</b> <code>scale()</code></a></li>
<li class="chapter" data-level="8.2.2" data-path="common-data-transformations.html"><a href="common-data-transformations.html#datawranglingcenter"><i class="fa fa-check"></i><b>8.2.2</b> <code>datawrangling::center()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="common-data-transformations.html"><a href="common-data-transformations.html#trimming"><i class="fa fa-check"></i><b>8.3</b> Trimming</a><ul>
<li class="chapter" data-level="8.3.1" data-path="common-data-transformations.html"><a href="common-data-transformations.html#remove-observation"><i class="fa fa-check"></i><b>8.3.1</b> Remove Observation</a></li>
<li class="chapter" data-level="8.3.2" data-path="common-data-transformations.html"><a href="common-data-transformations.html#replacing-values"><i class="fa fa-check"></i><b>8.3.2</b> Replacing Values</a></li>
<li class="chapter" data-level="8.3.3" data-path="common-data-transformations.html"><a href="common-data-transformations.html#datawranglingtrim"><i class="fa fa-check"></i><b>8.3.3</b> <code>datawrangling::trim()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="common-data-transformations.html"><a href="common-data-transformations.html#composites"><i class="fa fa-check"></i><b>8.4</b> Composites</a></li>
<li class="chapter" data-level="8.5" data-path="common-data-transformations.html"><a href="common-data-transformations.html#scale-transformations"><i class="fa fa-check"></i><b>8.5</b> Scale Transformations</a><ul>
<li class="chapter" data-level="8.5.1" data-path="common-data-transformations.html"><a href="common-data-transformations.html#log"><i class="fa fa-check"></i><b>8.5.1</b> log</a></li>
<li class="chapter" data-level="8.5.2" data-path="common-data-transformations.html"><a href="common-data-transformations.html#polynomial"><i class="fa fa-check"></i><b>8.5.2</b> polynomial</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="common-data-transformations.html"><a href="common-data-transformations.html#custom-transformations"><i class="fa fa-check"></i><b>8.6</b> Custom Transformations</a></li>
<li class="chapter" data-level="8.7" data-path="common-data-transformations.html"><a href="common-data-transformations.html#reshpaing-data"><i class="fa fa-check"></i><b>8.7</b> Reshpaing Data</a></li>
<li class="chapter" data-level="8.8" data-path="common-data-transformations.html"><a href="common-data-transformations.html#merging-data-files"><i class="fa fa-check"></i><b>8.8</b> Merging Data Files</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="useful-scoring-functions.html"><a href="useful-scoring-functions.html"><i class="fa fa-check"></i><b>9</b> Useful Scoring Functions</a><ul>
<li class="chapter" data-level="9.1" data-path="useful-scoring-functions.html"><a href="useful-scoring-functions.html#gf-and-wmc"><i class="fa fa-check"></i><b>9.1</b> Gf and WMC</a><ul>
<li class="chapter" data-level="9.1.1" data-path="useful-scoring-functions.html"><a href="useful-scoring-functions.html#example"><i class="fa fa-check"></i><b>9.1.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="useful-scoring-functions.html"><a href="useful-scoring-functions.html#calculating-bin-scores"><i class="fa fa-check"></i><b>9.2</b> Calculating Bin Scores</a></li>
<li class="chapter" data-level="9.3" data-path="useful-scoring-functions.html"><a href="useful-scoring-functions.html#reliability-functions"><i class="fa fa-check"></i><b>9.3</b> Reliability functions</a><ul>
<li class="chapter" data-level="9.3.1" data-path="useful-scoring-functions.html"><a href="useful-scoring-functions.html#cronbach_alpha"><i class="fa fa-check"></i><b>9.3.1</b> <code>cronbach_alpha()</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="useful-scoring-functions.html"><a href="useful-scoring-functions.html#splithalf"><i class="fa fa-check"></i><b>9.3.2</b> <code>splithalf()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="workflow-package.html"><a href="workflow-package.html"><i class="fa fa-check"></i><b>10</b> <code>workflow</code> Package</a><ul>
<li class="chapter" data-level="10.1" data-path="workflow-package.html"><a href="workflow-package.html#start-a-new-research-study"><i class="fa fa-check"></i><b>10.1</b> Start a new research study</a><ul>
<li class="chapter" data-level="10.1.1" data-path="workflow-package.html"><a href="workflow-package.html#directory"><i class="fa fa-check"></i><b>10.1.1</b> Directory</a></li>
<li class="chapter" data-level="10.1.2" data-path="workflow-package.html"><a href="workflow-package.html#additional-options"><i class="fa fa-check"></i><b>10.1.2</b> Additional Options</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="workflow-package.html"><a href="workflow-package.html#download-ready-made-templates"><i class="fa fa-check"></i><b>10.2</b> Download ready-made templates</a><ul>
<li class="chapter" data-level="10.2.1" data-path="workflow-package.html"><a href="workflow-package.html#generic-templates"><i class="fa fa-check"></i><b>10.2.1</b> Generic Templates</a></li>
<li class="chapter" data-level="10.2.2" data-path="workflow-package.html"><a href="workflow-package.html#gf-wmc-and-attention-control-scripts"><i class="fa fa-check"></i><b>10.2.2</b> Gf, WMC, and Attention Control Scripts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="example-data-preparation.html"><a href="example-data-preparation.html"><i class="fa fa-check"></i><b>11</b> Example: Data Preparation</a><ul>
<li class="chapter" data-level="11.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#initial-setup"><i class="fa fa-check"></i><b>11.1</b> Initial Setup</a><ul>
<li class="chapter" data-level="11.1.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#set-up-directory-structure"><i class="fa fa-check"></i><b>11.1.1</b> Set up directory structure</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="example-data-preparation.html"><a href="example-data-preparation.html#masterscript"><i class="fa fa-check"></i><b>11.2</b> Masterscript</a></li>
<li class="chapter" data-level="11.3" data-path="example-data-preparation.html"><a href="example-data-preparation.html#creating-messy-merged-file"><i class="fa fa-check"></i><b>11.3</b> Creating “messy” Merged File</a><ul>
<li class="chapter" data-level="11.3.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#e-prime-2.0"><i class="fa fa-check"></i><b>11.3.1</b> E-Prime 2.0</a></li>
<li class="chapter" data-level="11.3.2" data-path="example-data-preparation.html"><a href="example-data-preparation.html#skipping-e-merge-with-e-prime-3.0"><i class="fa fa-check"></i><b>11.3.2</b> Skipping E-Merge with E-Prime 3.0</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="example-data-preparation.html"><a href="example-data-preparation.html#step-1-messy-to-tidy"><i class="fa fa-check"></i><b>11.4</b> Step 1: “messy” to “tidy”</a><ul>
<li class="chapter" data-level="11.4.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#what-to-include"><i class="fa fa-check"></i><b>11.4.1</b> What to Include</a></li>
<li class="chapter" data-level="11.4.2" data-path="example-data-preparation.html"><a href="example-data-preparation.html#import-messy-data"><i class="fa fa-check"></i><b>11.4.2</b> Import “messy” data</a></li>
<li class="chapter" data-level="11.4.3" data-path="example-data-preparation.html"><a href="example-data-preparation.html#remove-duplicate-subjects"><i class="fa fa-check"></i><b>11.4.3</b> Remove Duplicate Subjects</a></li>
<li class="chapter" data-level="11.4.4" data-path="example-data-preparation.html"><a href="example-data-preparation.html#filter-rows"><i class="fa fa-check"></i><b>11.4.4</b> Filter Rows</a></li>
<li class="chapter" data-level="11.4.5" data-path="example-data-preparation.html"><a href="example-data-preparation.html#rename-variables"><i class="fa fa-check"></i><b>11.4.5</b> Rename Variables</a></li>
<li class="chapter" data-level="11.4.6" data-path="example-data-preparation.html"><a href="example-data-preparation.html#rename-values"><i class="fa fa-check"></i><b>11.4.6</b> Rename Values</a></li>
<li class="chapter" data-level="11.4.7" data-path="example-data-preparation.html"><a href="example-data-preparation.html#select-columns"><i class="fa fa-check"></i><b>11.4.7</b> Select Columns</a></li>
<li class="chapter" data-level="11.4.8" data-path="example-data-preparation.html"><a href="example-data-preparation.html#save-to-file"><i class="fa fa-check"></i><b>11.4.8</b> Save to File</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="example-data-preparation.html"><a href="example-data-preparation.html#step-2-raw-tidy-to-scored"><i class="fa fa-check"></i><b>11.5</b> Step 2: raw “tidy” to scored</a><ul>
<li class="chapter" data-level="11.5.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#set-up"><i class="fa fa-check"></i><b>11.5.1</b> Set up</a></li>
<li class="chapter" data-level="11.5.2" data-path="example-data-preparation.html"><a href="example-data-preparation.html#import"><i class="fa fa-check"></i><b>11.5.2</b> Import</a></li>
<li class="chapter" data-level="11.5.3" data-path="example-data-preparation.html"><a href="example-data-preparation.html#data-cleaning"><i class="fa fa-check"></i><b>11.5.3</b> Data Cleaning</a></li>
<li class="chapter" data-level="11.5.4" data-path="example-data-preparation.html"><a href="example-data-preparation.html#calculate-flankereffect-on-rt-and-accuracy"><i class="fa fa-check"></i><b>11.5.4</b> Calculate FlankerEffect on RT and Accuracy</a></li>
<li class="chapter" data-level="11.5.5" data-path="example-data-preparation.html"><a href="example-data-preparation.html#remove-subjects"><i class="fa fa-check"></i><b>11.5.5</b> Remove Subjects</a></li>
<li class="chapter" data-level="11.5.6" data-path="example-data-preparation.html"><a href="example-data-preparation.html#calculate-binned-scores"><i class="fa fa-check"></i><b>11.5.6</b> Calculate Binned Scores</a></li>
<li class="chapter" data-level="11.5.7" data-path="example-data-preparation.html"><a href="example-data-preparation.html#save-data-file"><i class="fa fa-check"></i><b>11.5.7</b> Save data file</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="example-data-preparation.html"><a href="example-data-preparation.html#source-in-masterscript"><i class="fa fa-check"></i><b>11.6</b> <code>source()</code> in Masterscript</a></li>
</ul></li>
<li class="part"><span><b>III Data Visualization</b></span></li>
<li class="chapter" data-level="12" data-path="data-analysis-workflow-in-r.html"><a href="data-analysis-workflow-in-r.html"><i class="fa fa-check"></i><b>12</b> Data Analysis workflow in R</a><ul>
<li class="chapter" data-level="12.1" data-path="data-analysis-workflow-in-r.html"><a href="data-analysis-workflow-in-r.html#r-markdown"><i class="fa fa-check"></i><b>12.1</b> R Markdown</a><ul>
<li class="chapter" data-level="12.1.1" data-path="data-analysis-workflow-in-r.html"><a href="data-analysis-workflow-in-r.html#what-is-an-r-markdown-file"><i class="fa fa-check"></i><b>12.1.1</b> What is an R Markdown File?</a></li>
<li class="chapter" data-level="12.1.2" data-path="data-analysis-workflow-in-r.html"><a href="data-analysis-workflow-in-r.html#yaml-header"><i class="fa fa-check"></i><b>12.1.2</b> YAML header</a></li>
<li class="chapter" data-level="12.1.3" data-path="data-analysis-workflow-in-r.html"><a href="data-analysis-workflow-in-r.html#r-code-chunks"><i class="fa fa-check"></i><b>12.1.3</b> R code chunks</a></li>
<li class="chapter" data-level="12.1.4" data-path="data-analysis-workflow-in-r.html"><a href="data-analysis-workflow-in-r.html#formatted-text"><i class="fa fa-check"></i><b>12.1.4</b> Formatted text</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>13</b> Data Visualization</a><ul>
<li class="chapter" data-level="13.1" data-path="data-visualization.html"><a href="data-visualization.html#grammar-of-graphics"><i class="fa fa-check"></i><b>13.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="13.2" data-path="data-visualization.html"><a href="data-visualization.html#plotting-functions-in-r"><i class="fa fa-check"></i><b>13.2</b> Plotting Functions in R</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>14</b> Introduction to ggplot2</a><ul>
<li class="chapter" data-level="14.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#grammar-of-graphics-1"><i class="fa fa-check"></i><b>14.1</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="14.2" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#data-layer"><i class="fa fa-check"></i><b>14.2</b> Data layer</a></li>
<li class="chapter" data-level="14.3" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#aesthetic-layer"><i class="fa fa-check"></i><b>14.3</b> Aesthetic Layer</a></li>
<li class="chapter" data-level="14.4" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#geometries-layer"><i class="fa fa-check"></i><b>14.4</b> Geometries Layer</a></li>
<li class="chapter" data-level="14.5" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#facets-layer"><i class="fa fa-check"></i><b>14.5</b> Facets Layer</a></li>
<li class="chapter" data-level="14.6" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#statistics-layer"><i class="fa fa-check"></i><b>14.6</b> Statistics Layer</a></li>
<li class="chapter" data-level="14.7" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#coordinates-layer"><i class="fa fa-check"></i><b>14.7</b> Coordinates Layer</a></li>
<li class="chapter" data-level="14.8" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#themes-layer"><i class="fa fa-check"></i><b>14.8</b> Themes Layer</a><ul>
<li class="chapter" data-level="14.8.1" data-path="introduction-to-ggplot2.html"><a href="introduction-to-ggplot2.html#built-in-themes"><i class="fa fa-check"></i><b>14.8.1</b> Built-in Themes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="aesthetics.html"><a href="aesthetics.html"><i class="fa fa-check"></i><b>15</b> Aesthetics</a><ul>
<li class="chapter" data-level="15.1" data-path="aesthetics.html"><a href="aesthetics.html#aesthetics-vs.attributes"><i class="fa fa-check"></i><b>15.1</b> Aesthetics vs. Attributes</a></li>
<li class="chapter" data-level="15.2" data-path="aesthetics.html"><a href="aesthetics.html#attributes"><i class="fa fa-check"></i><b>15.2</b> Attributes</a></li>
<li class="chapter" data-level="15.3" data-path="aesthetics.html"><a href="aesthetics.html#aesthetics-1"><i class="fa fa-check"></i><b>15.3</b> Aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="geoms-and-stats.html"><a href="geoms-and-stats.html"><i class="fa fa-check"></i><b>16</b> Geoms and Stats</a><ul>
<li class="chapter" data-level="16.1" data-path="geoms-and-stats.html"><a href="geoms-and-stats.html#scatterplots"><i class="fa fa-check"></i><b>16.1</b> Scatterplots</a><ul>
<li class="chapter" data-level="16.1.1" data-path="geoms-and-stats.html"><a href="geoms-and-stats.html#adding-other-geoms"><i class="fa fa-check"></i><b>16.1.1</b> Adding other geoms</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="geoms-and-stats.html"><a href="geoms-and-stats.html#bar-graphs"><i class="fa fa-check"></i><b>16.2</b> Bar Graphs</a><ul>
<li class="chapter" data-level="16.2.1" data-path="geoms-and-stats.html"><a href="geoms-and-stats.html#multidimensional-bar-plot"><i class="fa fa-check"></i><b>16.2.1</b> Multidimensional Bar Plot</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Regression</b></span></li>
<li class="chapter" data-level="17" data-path="introduction-to-regression-in-r.html"><a href="introduction-to-regression-in-r.html"><i class="fa fa-check"></i><b>17</b> Introduction to Regression in R</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Tutorial and Guide for the EngleLab</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="geoms-and-stats" class="section level1">
<h1><span class="header-section-number">Chapter 16</span> Geoms and Stats</h1>
<p>You can go ahead and set a default theme for your plots</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">theme_set</span>(<span class="kw">theme_linedraw</span>())</code></pre></div>
<p>The main type of plots we typically want to create in psychological science are:</p>
<ul>
<li><p>Scatterplots</p></li>
<li><p>Bar graphs</p></li>
<li><p>Line graphs</p></li>
<li><p>Histograms</p></li>
</ul>
<div id="scatterplots" class="section level2">
<h2><span class="header-section-number">16.1</span> Scatterplots</h2>
<p>We have already spent a good amount of time creating scatterplots using <code>stat_smooth()</code> and/or <code>geom_smooth()</code>.</p>
<p>These two functions are essntially identical. In fact, many of the <code>geom_</code> functions are just wrappers around <code>stat_</code> functions.</p>
<p><img src="images/stat_func.png" width="200" style="display: block; margin: auto;" /></p>
<p>The scatterplot we created from last chapter is essentially an interaction plot. The interaction of Species x Sepal.Length on Sepal.Width.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(iris, <span class="kw">aes</span>(Sepal.Length, Sepal.Width, <span class="dt">color =</span> Species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-270-1.png" width="672" /></p>
<p>For modelling an interaction effect in regression it is easier to interpret if the lines extend to all possible values - not just across the values within a group.</p>
<p>We can do this by specifying the argument <code>geom_smooth(fullrange = TRUE)</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(iris, <span class="kw">aes</span>(Sepal.Length, Sepal.Width, <span class="dt">color =</span> Species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>, <span class="dt">fullrange =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-271-1.png" width="672" /></p>
<p>Now what if the moderator was a continuous variable and not categorical like <code>Species</code>? We would want to set the <code>color</code> aesthetic to be on +/- 1 SD on the mean. How would we go about doing this?</p>
<p><em>The answer is</em>: It would be very difficult to do so. This is where the function <code>plot_model()</code> from the <code>sjPlot</code> package comes in handy.</p>
<div id="adding-other-geoms" class="section level3">
<h3><span class="header-section-number">16.1.1</span> Adding other geoms</h3>
<p>There might be other <code>geoms</code> we want to add to a scatterplot. Let’s add some summary statistics to the graph. Specifically, a horizontal dashed line representing the mean on Sepal.Width and a vertical dashed line representing the mean on Sepal.Length. To make it more simple let’s only do this for <code>Species == &quot;setosa&quot;</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)

iris_means &lt;-<span class="st"> </span>iris <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(Species <span class="op">==</span><span class="st"> &quot;setosa&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Sepal.Width_mean =</span> <span class="kw">mean</span>(Sepal.Width, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
         <span class="dt">Sepal.Length_mean =</span> <span class="kw">mean</span>(Sepal.Length, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))

<span class="kw">ggplot</span>(iris_means, 
       <span class="kw">aes</span>(Sepal.Length, Sepal.Width)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>, <span class="dt">fullrange =</span> <span class="ot">TRUE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> Sepal.Width_mean), 
             <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;red4&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_vline</span>(<span class="kw">aes</span>(<span class="dt">xintercept =</span> Sepal.Length_mean), 
             <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;green4&quot;</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-272-1.png" width="672" /></p>
</div>
</div>
<div id="bar-graphs" class="section level2">
<h2><span class="header-section-number">16.2</span> Bar Graphs</h2>
<p>Bar graphs are the standard. They are ubiquitous across psychology. Basically everyone uses them. But in all honesty, <strong>Bar graphs SUCK!</strong>.</p>
<p>The worst part about them is that they hide the distribution of the raw data points (even when error bars are included). Even worse, too often you will see bar graphs with NO ERROR BARS! Yikes! A bar graph with no error bars tells you almost NOTHING!</p>
<p>To illustrate this let’s use a data set containing information on mammalian sleep patterns from the data set <code>msleep</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(msleep)</code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   name  genus vore  order conservation sleep_total sleep_rem sleep_cycle
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
## 1 Chee… Acin… carni Carn… lc                  12.1      NA        NA    
## 2 Owl … Aotus omni  Prim… &lt;NA&gt;                17         1.8      NA    
## 3 Moun… Aplo… herbi Rode… nt                  14.4       2.4      NA    
## 4 Grea… Blar… omni  Sori… lc                  14.9       2.3       0.133
## 5 Cow   Bos   herbi Arti… domesticated         4         0.7       0.667
## 6 Thre… Brad… herbi Pilo… &lt;NA&gt;                14.4       2.2       0.767
## # … with 3 more variables: awake &lt;dbl&gt;, brainwt &lt;dbl&gt;, bodywt &lt;dbl&gt;</code></pre>
<p>Let’s plot the relationship between the different eating habits (<code>vore</code>) and total sleep time (<code>sleep_total</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">msleep1 &lt;-<span class="st"> </span><span class="kw">filter</span>(msleep, <span class="op">!</span><span class="kw">is.na</span>(vore))

<span class="kw">ggplot</span>(msleep1, <span class="kw">aes</span>(vore, sleep_total)) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, <span class="dt">geom =</span> <span class="st">&quot;bar&quot;</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-274-1.png" width="672" /></p>
<p>This only tells us what the means are. We have no idea about the distributions. Well for this reason people usually like to see error bars. Okay well let’s add error bars.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(msleep1, <span class="kw">aes</span>(vore, sleep_total)) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, <span class="dt">geom =</span> <span class="st">&quot;bar&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.data =</span> mean_cl_normal, <span class="dt">na.rm =</span><span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;errorbar&quot;</span>, <span class="dt">width =</span> .<span class="dv">2</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-275-1.png" width="672" /></p>
<p>Okay better. But we still cannot see the underlying distribution.</p>
<p>Here is a crazy idea. What if we plotted the raw data points. Like we do with scatterplots! Whoa! What a concept</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(msleep1, <span class="kw">aes</span>(vore, sleep_total)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-276-1.png" width="672" /></p>
<p>When plotting raw data points with categorical variables on the x-axis it makes more sense to <code>jitter</code> the points so they are not all just lying on top of each other.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(msleep1, <span class="kw">aes</span>(vore, sleep_total)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> .<span class="dv">2</span>))</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-277-1.png" width="672" /></p>
<p>Wow! Does this give you a completely different picture than the bar graph with error bars? It does to me! Especially look at the <code>insecti</code> and <code>omni</code> eating habits. There is definitely a bi-modal distribution happening there.</p>
<p>From the bar graph with error bars, we might be fooled into thinking that the distributions for <code>carni</code> and <code>omnie</code> are pretty similar. But are they? Not at all!</p>
<p><strong>THIS IS WHY YOU SHOULD ALWAYS PLOT THE RAW DATA POINTS</strong></p>
<p>But means and error bars are also useful information so let’s add those</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(msleep1, <span class="kw">aes</span>(vore, sleep_total)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> .<span class="dv">2</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;point&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.data =</span> mean_cl_normal, <span class="dt">na.rm =</span><span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;errorbar&quot;</span>, <span class="dt">width =</span> .<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-278-1.png" width="672" /></p>
<p>Another aesthetic option that is useful when we are plotting means and error bars ontop of raw data is the <code>alpha</code> aesthetic. This can allow us to make the raw data points more transparent, fade into the background a little more.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(msleep1, <span class="kw">aes</span>(vore, sleep_total)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> .<span class="dv">2</span>), <span class="dt">alpha =</span> .<span class="dv">3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;point&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>, 
               <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="st">&quot;diamond&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.data =</span> mean_cl_normal, <span class="dt">na.rm =</span><span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;errorbar&quot;</span>, <span class="dt">width =</span> .<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-279-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(msleep1, <span class="kw">aes</span>(vore, sleep_total)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">position =</span> <span class="kw">position_jitter</span>(<span class="dt">width =</span> .<span class="dv">2</span>), <span class="dt">alpha =</span> .<span class="dv">3</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>,
               <span class="dt">geom =</span> <span class="st">&quot;point&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>, 
               <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">shape =</span> <span class="st">&quot;diamond&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.data =</span> mean_cl_normal, <span class="dt">na.rm =</span><span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;errorbar&quot;</span>, <span class="dt">width =</span> .<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, <span class="kw">aes</span>(<span class="dt">group =</span> <span class="dv">1</span>),
               <span class="dt">geom =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>, 
               <span class="dt">size =</span> .<span class="dv">75</span>, <span class="dt">shape =</span> <span class="st">&quot;diamond&quot;</span>) </code></pre></div>
<pre><code>## Warning: Ignoring unknown parameters: shape</code></pre>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-280-1.png" width="672" /></p>
<div id="multidimensional-bar-plot" class="section level3">
<h3><span class="header-section-number">16.2.1</span> Multidimensional Bar Plot</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyr)
iris.long &lt;-<span class="st"> </span>iris <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Flower =</span> <span class="kw">row_number</span>()) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(<span class="st">&quot;Part&quot;</span>, <span class="st">&quot;Inches&quot;</span>, <span class="op">-</span>Flower, <span class="op">-</span>Species) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">separate</span>(Part, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;Part&quot;</span>, <span class="st">&quot;Measurement&quot;</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(Flower, Species) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(Flower, Species, Part, Measurement, Inches)

<span class="kw">head</span>(iris.long)</code></pre></div>
<pre><code>##   Flower Species  Part Measurement Inches
## 1      1  setosa Sepal      Length    5.1
## 2      1  setosa Sepal       Width    3.5
## 3      1  setosa Petal      Length    1.4
## 4      1  setosa Petal       Width    0.2
## 5      2  setosa Sepal      Length    4.9
## 6      2  setosa Sepal       Width    3.0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(iris.long, <span class="kw">aes</span>(Measurement, Inches, <span class="dt">group =</span> Species, <span class="dt">color =</span> Species)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">position =</span> <span class="kw">position_jitterdodge</span>(<span class="dt">jitter.width =</span> .<span class="dv">2</span>, 
                                             <span class="dt">dodge.width =</span> .<span class="dv">7</span>), 
             <span class="dt">alpha =</span> .<span class="dv">1</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.y =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;point&quot;</span>, <span class="dt">shape =</span> <span class="st">&quot;diamond&quot;</span>,
               <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, 
               <span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="dt">width =</span> .<span class="dv">7</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">stat_summary</span>(<span class="dt">fun.data =</span> mean_cl_normal, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>, 
               <span class="dt">geom =</span> <span class="st">&quot;errorbar&quot;</span>, <span class="dt">width =</span> .<span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,
               <span class="dt">position =</span> <span class="kw">position_dodge</span>(<span class="dt">width =</span> .<span class="dv">7</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>)</code></pre></div>
<p><img src="R_Tutorial_files/figure-html/unnamed-chunk-281-1.png" width="672" /></p>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="aesthetics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-to-regression-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
