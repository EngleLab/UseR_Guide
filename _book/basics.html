<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R Tutorial for the EngleLab</title>
  <meta name="description" content="This is a short R Tutorial for the EngleLab">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="R Tutorial for the EngleLab" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a short R Tutorial for the EngleLab" />
  <meta name="github-repo" content="dr-JT" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Tutorial for the EngleLab" />
  
  <meta name="twitter:description" content="This is a short R Tutorial for the EngleLab" />
  

<meta name="author" content="Jason Tsukahara">


<meta name="date" content="2018-11-13">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="installation.html">
<link rel="next" href="workflow.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a><ul>
<li class="chapter" data-level="1.1" data-path="installation.html"><a href="installation.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.2" data-path="installation.html"><a href="installation.html#installing-r-studio"><i class="fa fa-check"></i><b>1.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="1.3" data-path="installation.html"><a href="installation.html#the-r-studio-environemnt"><i class="fa fa-check"></i><b>1.3</b> The R Studio Environemnt</a></li>
<li class="chapter" data-level="1.4" data-path="installation.html"><a href="installation.html#r-studio-settings"><i class="fa fa-check"></i><b>1.4</b> R Studio Settings</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="basics.html"><a href="basics.html#creating-r-objects"><i class="fa fa-check"></i><b>2.1</b> Creating R objects</a><ul>
<li class="chapter" data-level="2.1.1" data-path="basics.html"><a href="basics.html#classes"><i class="fa fa-check"></i><b>2.1.1</b> Classes</a></li>
<li class="chapter" data-level="2.1.2" data-path="basics.html"><a href="basics.html#vectors"><i class="fa fa-check"></i><b>2.1.2</b> Vectors</a></li>
<li class="chapter" data-level="2.1.3" data-path="basics.html"><a href="basics.html#factors"><i class="fa fa-check"></i><b>2.1.3</b> Factors</a></li>
<li class="chapter" data-level="2.1.4" data-path="basics.html"><a href="basics.html#lists"><i class="fa fa-check"></i><b>2.1.4</b> Lists</a></li>
<li class="chapter" data-level="2.1.5" data-path="basics.html"><a href="basics.html#data-frames"><i class="fa fa-check"></i><b>2.1.5</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basics.html"><a href="basics.html#ifthen-statements"><i class="fa fa-check"></i><b>2.2</b> If…then Statements</a></li>
<li class="chapter" data-level="2.3" data-path="basics.html"><a href="basics.html#for-loops"><i class="fa fa-check"></i><b>2.3</b> For Loops</a></li>
<li class="chapter" data-level="2.4" data-path="basics.html"><a href="basics.html#functions"><i class="fa fa-check"></i><b>2.4</b> Functions</a><ul>
<li class="chapter" data-level="2.4.1" data-path="basics.html"><a href="basics.html#creating-your-own-functions"><i class="fa fa-check"></i><b>2.4.1</b> Creating Your Own Functions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basics.html"><a href="basics.html#r-packages"><i class="fa fa-check"></i><b>2.5</b> R Packages</a></li>
<li class="chapter" data-level="2.6" data-path="basics.html"><a href="basics.html#installing-and-loading-r-packages"><i class="fa fa-check"></i><b>2.6</b> Installing and Loading R Packages</a></li>
<li class="chapter" data-level="2.7" data-path="basics.html"><a href="basics.html#more-r-basic-resources"><i class="fa fa-check"></i><b>2.7</b> More R Basic Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>3</b> Workflow</a></li>
<li class="chapter" data-level="4" data-path="the-tidyverse.html"><a href="the-tidyverse.html"><i class="fa fa-check"></i><b>4</b> The tidyverse</a><ul>
<li class="chapter" data-level="4.1" data-path="the-tidyverse.html"><a href="the-tidyverse.html#readr---import"><i class="fa fa-check"></i><b>4.1</b> readr - import</a></li>
<li class="chapter" data-level="4.2" data-path="the-tidyverse.html"><a href="the-tidyverse.html#dplyr"><i class="fa fa-check"></i><b>4.2</b> dplyr</a><ul>
<li class="chapter" data-level="4.2.1" data-path="the-tidyverse.html"><a href="the-tidyverse.html#rename"><i class="fa fa-check"></i><b>4.2.1</b> <code>rename()</code></a></li>
<li class="chapter" data-level="4.2.2" data-path="the-tidyverse.html"><a href="the-tidyverse.html#filter"><i class="fa fa-check"></i><b>4.2.2</b> <code>filter()</code></a></li>
<li class="chapter" data-level="4.2.3" data-path="the-tidyverse.html"><a href="the-tidyverse.html#select"><i class="fa fa-check"></i><b>4.2.3</b> <code>select()</code></a></li>
<li class="chapter" data-level="4.2.4" data-path="the-tidyverse.html"><a href="the-tidyverse.html#mutate"><i class="fa fa-check"></i><b>4.2.4</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="4.2.5" data-path="the-tidyverse.html"><a href="the-tidyverse.html#group_by"><i class="fa fa-check"></i><b>4.2.5</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="4.2.6" data-path="the-tidyverse.html"><a href="the-tidyverse.html#summarise"><i class="fa fa-check"></i><b>4.2.6</b> <code>summarise()</code></a></li>
<li class="chapter" data-level="4.2.7" data-path="the-tidyverse.html"><a href="the-tidyverse.html#spread"><i class="fa fa-check"></i><b>4.2.7</b> <code>spread()</code></a></li>
<li class="chapter" data-level="4.2.8" data-path="the-tidyverse.html"><a href="the-tidyverse.html#pipe-operator"><i class="fa fa-check"></i><b>4.2.8</b> Pipe Operator %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="the-tidyverse.html"><a href="the-tidyverse.html#readr---export"><i class="fa fa-check"></i><b>4.3</b> readr - export</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="englelab-packages.html"><a href="englelab-packages.html"><i class="fa fa-check"></i><b>5</b> EngleLab Packages</a><ul>
<li class="chapter" data-level="5.1" data-path="englelab-packages.html"><a href="englelab-packages.html#englelab"><i class="fa fa-check"></i><b>5.1</b> englelab</a><ul>
<li class="chapter" data-level="5.1.1" data-path="englelab-packages.html"><a href="englelab-packages.html#tidy-raw-data-functions"><i class="fa fa-check"></i><b>5.1.1</b> “tidy” raw data functions</a></li>
<li class="chapter" data-level="5.1.2" data-path="englelab-packages.html"><a href="englelab-packages.html#score-data-functions"><i class="fa fa-check"></i><b>5.1.2</b> score data functions</a></li>
<li class="chapter" data-level="5.1.3" data-path="englelab-packages.html"><a href="englelab-packages.html#calculating-bin-scores"><i class="fa fa-check"></i><b>5.1.3</b> Calculating Bin Scores</a></li>
<li class="chapter" data-level="5.1.4" data-path="englelab-packages.html"><a href="englelab-packages.html#reliability-functions"><i class="fa fa-check"></i><b>5.1.4</b> Reliability functions</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="englelab-packages.html"><a href="englelab-packages.html#datawrangling"><i class="fa fa-check"></i><b>5.2</b> datawrangling</a><ul>
<li class="chapter" data-level="5.2.1" data-path="englelab-packages.html"><a href="englelab-packages.html#merging-data-files"><i class="fa fa-check"></i><b>5.2.1</b> Merging Data Files</a></li>
<li class="chapter" data-level="5.2.2" data-path="englelab-packages.html"><a href="englelab-packages.html#reshpaing-data"><i class="fa fa-check"></i><b>5.2.2</b> Reshpaing Data</a></li>
<li class="chapter" data-level="5.2.3" data-path="englelab-packages.html"><a href="englelab-packages.html#transformations"><i class="fa fa-check"></i><b>5.2.3</b> Transformations</a></li>
<li class="chapter" data-level="5.2.4" data-path="englelab-packages.html"><a href="englelab-packages.html#data-cleaning"><i class="fa fa-check"></i><b>5.2.4</b> Data Cleaning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html"><i class="fa fa-check"></i><b>6</b> Organization and Good Practices</a><ul>
<li class="chapter" data-level="6.1" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#r-scripts"><i class="fa fa-check"></i><b>6.1</b> R Scripts</a><ul>
<li class="chapter" data-level="6.1.1" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#general-workflow"><i class="fa fa-check"></i><b>6.1.1</b> General Workflow</a></li>
<li class="chapter" data-level="6.1.2" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#building-a-template-workflow"><i class="fa fa-check"></i><b>6.1.2</b> Building a Template Workflow</a></li>
<li class="chapter" data-level="6.1.3" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#rmlistls"><i class="fa fa-check"></i><b>6.1.3</b> rm(list=ls())</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#working-directory"><i class="fa fa-check"></i><b>6.2</b> Working Directory</a><ul>
<li class="chapter" data-level="6.2.1" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#r-projects"><i class="fa fa-check"></i><b>6.2.1</b> R Projects</a></li>
<li class="chapter" data-level="6.2.2" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#here"><i class="fa fa-check"></i><b>6.2.2</b> here()</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#the-masterscript"><i class="fa fa-check"></i><b>6.3</b> The masterscript</a></li>
<li class="chapter" data-level="6.4" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#folder-organization"><i class="fa fa-check"></i><b>6.4</b> Folder Organization</a></li>
<li class="chapter" data-level="6.5" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#naming-r-scripts"><i class="fa fa-check"></i><b>6.5</b> Naming R Scripts</a></li>
<li class="chapter" data-level="6.6" data-path="organization-and-good-practices.html"><a href="organization-and-good-practices.html#summary"><i class="fa fa-check"></i><b>6.6</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="example-data-preparation.html"><a href="example-data-preparation.html"><i class="fa fa-check"></i><b>7</b> Example: Data Preparation</a><ul>
<li class="chapter" data-level="7.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#initial-setup"><i class="fa fa-check"></i><b>7.1</b> Initial Setup</a><ul>
<li class="chapter" data-level="7.1.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#set-up-directory-structure"><i class="fa fa-check"></i><b>7.1.1</b> Set up directory structure</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="example-data-preparation.html"><a href="example-data-preparation.html#masterscript"><i class="fa fa-check"></i><b>7.2</b> Masterscript</a></li>
<li class="chapter" data-level="7.3" data-path="example-data-preparation.html"><a href="example-data-preparation.html#creating-messy-merged-file"><i class="fa fa-check"></i><b>7.3</b> Creating “messy” Merged File</a><ul>
<li class="chapter" data-level="7.3.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#flanker-data-set"><i class="fa fa-check"></i><b>7.3.1</b> Flanker Data Set</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="example-data-preparation.html"><a href="example-data-preparation.html#messy-to-tidy"><i class="fa fa-check"></i><b>7.4</b> “messy” to “tidy”</a><ul>
<li class="chapter" data-level="7.4.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#what-to-include"><i class="fa fa-check"></i><b>7.4.1</b> What to Include</a></li>
<li class="chapter" data-level="7.4.2" data-path="example-data-preparation.html"><a href="example-data-preparation.html#import-messy-data"><i class="fa fa-check"></i><b>7.4.2</b> Import “messy” data</a></li>
<li class="chapter" data-level="7.4.3" data-path="example-data-preparation.html"><a href="example-data-preparation.html#remove-duplicate-subjects"><i class="fa fa-check"></i><b>7.4.3</b> Remove Duplicate Subjects</a></li>
<li class="chapter" data-level="7.4.4" data-path="example-data-preparation.html"><a href="example-data-preparation.html#filter-1"><i class="fa fa-check"></i><b>7.4.4</b> Filter</a></li>
<li class="chapter" data-level="7.4.5" data-path="example-data-preparation.html"><a href="example-data-preparation.html#rename-1"><i class="fa fa-check"></i><b>7.4.5</b> Rename</a></li>
<li class="chapter" data-level="7.4.6" data-path="example-data-preparation.html"><a href="example-data-preparation.html#mutate-1"><i class="fa fa-check"></i><b>7.4.6</b> Mutate</a></li>
<li class="chapter" data-level="7.4.7" data-path="example-data-preparation.html"><a href="example-data-preparation.html#select-1"><i class="fa fa-check"></i><b>7.4.7</b> Select</a></li>
<li class="chapter" data-level="7.4.8" data-path="example-data-preparation.html"><a href="example-data-preparation.html#save-to-file"><i class="fa fa-check"></i><b>7.4.8</b> Save to File</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="example-data-preparation.html"><a href="example-data-preparation.html#tidy-raw-to-scored"><i class="fa fa-check"></i><b>7.5</b> “tidy” raw to scored</a><ul>
<li class="chapter" data-level="7.5.1" data-path="example-data-preparation.html"><a href="example-data-preparation.html#set-up"><i class="fa fa-check"></i><b>7.5.1</b> Set up</a></li>
<li class="chapter" data-level="7.5.2" data-path="example-data-preparation.html"><a href="example-data-preparation.html#import"><i class="fa fa-check"></i><b>7.5.2</b> Import</a></li>
<li class="chapter" data-level="7.5.3" data-path="example-data-preparation.html"><a href="example-data-preparation.html#calculate-flankereffect-on-rt-and-accuracy"><i class="fa fa-check"></i><b>7.5.3</b> Calculate FlankerEffect on RT and Accuracy</a></li>
<li class="chapter" data-level="7.5.4" data-path="example-data-preparation.html"><a href="example-data-preparation.html#calculate-binned-scores"><i class="fa fa-check"></i><b>7.5.4</b> Calculate Binned Scores</a></li>
<li class="chapter" data-level="7.5.5" data-path="example-data-preparation.html"><a href="example-data-preparation.html#save-data-file"><i class="fa fa-check"></i><b>7.5.5</b> Save data file</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="example-data-preparation.html"><a href="example-data-preparation.html#source-in-masterscript"><i class="fa fa-check"></i><b>7.6</b> <code>source()</code> in Masterscript</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="analyzing-data-in-r.html"><a href="analyzing-data-in-r.html"><i class="fa fa-check"></i><b>8</b> Analyzing Data in R</a><ul>
<li class="chapter" data-level="8.1" data-path="analyzing-data-in-r.html"><a href="analyzing-data-in-r.html#r-markdown"><i class="fa fa-check"></i><b>8.1</b> R Markdown</a><ul>
<li class="chapter" data-level="8.1.1" data-path="analyzing-data-in-r.html"><a href="analyzing-data-in-r.html#yaml-header"><i class="fa fa-check"></i><b>8.1.1</b> YAML header</a></li>
<li class="chapter" data-level="8.1.2" data-path="analyzing-data-in-r.html"><a href="analyzing-data-in-r.html#r-code-chunks"><i class="fa fa-check"></i><b>8.1.2</b> R code chunks</a></li>
<li class="chapter" data-level="8.1.3" data-path="analyzing-data-in-r.html"><a href="analyzing-data-in-r.html#formatted-text"><i class="fa fa-check"></i><b>8.1.3</b> Formatted text</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Tutorial for the EngleLab</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basics" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Basics</h1>
<p>This chapter will cover the basics of how to assign values to objects, create and extract information from vectors, lists, and dataframes.</p>
<div id="creating-r-objects" class="section level2">
<h2><span class="header-section-number">2.1</span> Creating R objects</h2>
<p>In R, everything that exists is an object and everything you do to objects are functions. You can define an object using the operator <code>&lt;-</code>. For instance,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">string &lt;-<span class="st"> &quot;hello&quot;</span>
string
## [1] &quot;hello&quot;</code></pre></div>
<p>In this example, the first line defines the object <code>string</code> with a value of “hello”. The second line simply prints the output of <code>string</code> to the Console window.</p>
<p>Notice how I included <code>&quot; &quot;</code> around hello. This tells R that hello is a string, not an object. If I were to not include <code>&quot; &quot;</code>, then R would think I am calling an object. And since there is no object with the name hello it will print an error</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">string &lt;-<span class="st"> </span>hello
## Error in eval(expr, envir, enclos): object &#39;hello&#39; not found</code></pre></div>
<p>Do not use <code>&quot; &quot;</code> for Numerical values</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">5</span>
a
## [1] 5</code></pre></div>
<p>You can execute commands by:</p>
<ol style="list-style-type: decimal">
<li><p>Typing them directly into the Console window</p></li>
<li><p>Typing them into the Source window and then on that line of code pressing <strong>Ctrl+Enter</strong>. With <strong>Ctrl+Enter</strong> you can execute one line of your code at a time.</p></li>
</ol>
<p>Go ahead and define an object with a value and print it to the Console window. You should now see an object with the value you assigned to it in the <strong>Environment</strong> window.</p>
<p>It is important to know that EVERYTHING in R is <strong>case sensitive</strong>. That means you can’t use A in place of a</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">A <span class="op">+</span><span class="st"> </span><span class="dv">5</span>
## Error in eval(expr, envir, enclos): object &#39;A&#39; not found
a <span class="op">+</span><span class="st"> </span><span class="dv">5</span>
## [1] 10</code></pre></div>
<div id="classes" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Classes</h3>
<ul>
<li><p>character <code>&quot;hello&quot;</code>, <code>&quot;19&quot;</code></p></li>
<li><p>numeric (or double) <code>2</code>, <code>32.55</code></p></li>
<li><p>integer <code>5</code>, <code>99</code></p></li>
<li><p>logical <code>TRUE</code>, <code>FALSE</code></p></li>
</ul>
<p>To evaluate the class of an object you can use the <code>typeof()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">typeof</span>(a)
## [1] &quot;double&quot;</code></pre></div>
<p>To change the class of an object you can use the function <code>as.character()</code> , <code>as.numeric()</code> , <code>as.double()</code> , <code>as.integer()</code> , <code>as.logical()</code> functions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.integer</span>(a)
## [1] 5</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.character</span>(a)
## [1] &quot;5&quot;</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(<span class="st">&quot;hello&quot;</span>)
## Warning: NAs introduced by coercion
## [1] NA</code></pre></div>
</div>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Vectors</h3>
<p>Okay so now I want to talk about creating more interesting objects than just <code>a &lt;- 5</code>. If you are going to do anything in R it is important that you understand the different data types and data structures you can use in R. I will not cover all of them in this tutorial. For more information on data types and structures you should go to <a href="https://ramnathv.github.io/pycon2014-r/learn/structures.html" class="uri">https://ramnathv.github.io/pycon2014-r/learn/structures.html</a></p>
<p>Vectors contain elements of data. The length of a vector is the number of elements in the vector. For instance, the variable <code>a</code> we created earlier is actually a vector of length 1. It contains one element with a value of 5. Now let’s create a vector with more than one element.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)</code></pre></div>
<p><code>c()</code> is a function. Functions contain arguments that are inputs for the function. Arguments are separated by commas. In this example the <code>c()</code> fucntion concatenates the arguments (<code>1, 3, 5</code>) into a vector. We are passing the result of this function to the object b. What do you think the output of b will look like?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b
## [1] 1 3 5</code></pre></div>
<p>You can see that we now have a vector that contains 3 elements; <code>1, 3, 5</code>. If you want to reference the value of specific elements of a vector you use brackets <code>[ ]</code>. For instance,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b[<span class="dv">2</span>]
## [1] 3</code></pre></div>
<p>The value of the second element in vector <code>b</code> is 3. Let’s say we want to grab only the 2nd and 3rd elements. We can do this at least two differnt ways.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]
## [1] 3 5
b[<span class="op">-</span><span class="dv">1</span>]
## [1] 3 5</code></pre></div>
<p>Now, it is important to note that we have not been changing vector <code>b</code>. If we display the output of <code>b</code>, we can see that it still contains the 3 elements.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b
## [1] 1 3 5</code></pre></div>
<p>To change vector <code>b</code> we need to define <code>b</code> as vector <code>b</code> with the first element removed</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span>b[<span class="op">-</span><span class="dv">1</span>]
b
## [1] 3 5</code></pre></div>
<p>Vector <code>b</code> no longer contains 3 elements. Now, let’s say we want to add an element to vector <code>b</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">5</span>,b)
## [1] 5 3 5</code></pre></div>
<p>Here the <code>c()</code> fucntion created a vector with the value 5 as the first element followed by the values in vector <code>b</code></p>
<p>Or we can use the variable <code>a</code> that has a value of 5. Let’s add this to vector <code>b</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span><span class="kw">c</span>(a,b)
b
## [1] 5 3 5</code></pre></div>
<p>What if you want to create a long vector with many elements? If there is a pattern to the sequence of elements in the vector then you can create the vector using <code>seq()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="dt">by =</span> <span class="dv">4</span>)
##   [1]    0    4    8   12   16   20   24   28   32   36   40   44   48   52
##  [15]   56   60   64   68   72   76   80   84   88   92   96  100  104  108
##  [29]  112  116  120  124  128  132  136  140  144  148  152  156  160  164
##  [43]  168  172  176  180  184  188  192  196  200  204  208  212  216  220
##  [57]  224  228  232  236  240  244  248  252  256  260  264  268  272  276
##  [71]  280  284  288  292  296  300  304  308  312  316  320  324  328  332
##  [85]  336  340  344  348  352  356  360  364  368  372  376  380  384  388
##  [99]  392  396  400  404  408  412  416  420  424  428  432  436  440  444
## [113]  448  452  456  460  464  468  472  476  480  484  488  492  496  500
## [127]  504  508  512  516  520  524  528  532  536  540  544  548  552  556
## [141]  560  564  568  572  576  580  584  588  592  596  600  604  608  612
## [155]  616  620  624  628  632  636  640  644  648  652  656  660  664  668
## [169]  672  676  680  684  688  692  696  700  704  708  712  716  720  724
## [183]  728  732  736  740  744  748  752  756  760  764  768  772  776  780
## [197]  784  788  792  796  800  804  808  812  816  820  824  828  832  836
## [211]  840  844  848  852  856  860  864  868  872  876  880  884  888  892
## [225]  896  900  904  908  912  916  920  924  928  932  936  940  944  948
## [239]  952  956  960  964  968  972  976  980  984  988  992  996 1000</code></pre></div>
<p>Vectors can only contain elements of the same “class”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="st">&quot;2&quot;</span>, <span class="dv">5</span>, <span class="dv">9</span>)
d
## [1] &quot;1&quot; &quot;2&quot; &quot;5&quot; &quot;9&quot;</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(d)
## [1] 1 2 5 9</code></pre></div>
</div>
<div id="factors" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Factors</h3>
<p>Factors are special types of vectors that can represent categorical data. You can change a vector into a factor object using <code>factor()</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>, <span class="st">&quot;male&quot;</span>, <span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>, <span class="st">&quot;female&quot;</span>, <span class="st">&quot;male&quot;</span>))
## [1] male   female male   male   female female male  
## Levels: female male</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>))
## [1] high   low    medium high   high   low    medium medium
## Levels: high low medium</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;medium&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;medium&quot;</span>, <span class="st">&quot;low&quot;</span>))
f
## [1] high   low    medium high   high   low    medium medium
## Levels: high medium low</code></pre></div>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Lists</h3>
<p>Lists are containers of objects. Unlike Vectors, Lists can hold different classes of objects.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;2&quot;</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="st">&quot;hello&quot;</span>)
## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;2&quot;
## 
## [[3]]
## [1] 2
## 
## [[4]]
## [1] 4
## 
## [[5]]
## [1] 9
## 
## [[6]]
## [1] &quot;hello&quot;</code></pre></div>
<p>You might have noticed that there are not only single brackets, but double brackets <code>[[ ]]</code></p>
<p>This is because Lists can hold not only single elements but can hold vectors, factors, lists, dataframes, and pretty much any kind of object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">l &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="st">&quot;2&quot;</span>, <span class="st">&quot;hello&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))
l
## [[1]]
## [1] 1 2 3 4
## 
## [[2]]
## [1] &quot;2&quot;
## 
## [[3]]
## [1] &quot;hello&quot;
## 
## [[4]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre></div>
<p>You can see that the length of each element in a list does not have to be the same. To reference the elements in a list you need to use the double brackets <code>[[ ]]</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">l[[<span class="dv">1</span>]]
## [1] 1 2 3 4</code></pre></div>
<p>To reference elements within list elements you use double brackets followed by a single bracket</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">l[[<span class="dv">4</span>]][<span class="dv">2</span>]
## [1] &quot;b&quot;</code></pre></div>
<p>You can even give names to the list elements</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">person &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;Jason&quot;</span>, <span class="dt">phone =</span> <span class="st">&quot;123-456-7890&quot;</span>, <span class="dt">age =</span> <span class="dv">23</span>, <span class="dt">favorite_colors =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="st">&quot;brown&quot;</span>))
person
## $name
## [1] &quot;Jason&quot;
## 
## $phone
## [1] &quot;123-456-7890&quot;
## 
## $age
## [1] 23
## 
## $favorite_colors
## [1] &quot;blue&quot;  &quot;red&quot;   &quot;brown&quot;</code></pre></div>
<p>And you can use the names to reference elements in a list</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">person[[<span class="st">&quot;name&quot;</span>]]
## [1] &quot;Jason&quot;
person[[<span class="st">&quot;favorite_colors&quot;</span>]][<span class="dv">3</span>]
## [1] &quot;brown&quot;</code></pre></div>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">2.1.5</span> Data Frames</h3>
<p>You are probably already familiar with this type of data structure. SPSS and Excel uses this type of structure. It is just rows and columns of data. A data table! This is the format that is used to perform statiscital analyses on.</p>
<p>So let’s create a data frame so you can see what one looks like in RStudio</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="dt">y =</span> <span class="kw">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>, <span class="dt">by =</span> <span class="dv">10</span>))
data
##    id x   y
## 1   1 a  10
## 2   2 b  20
## 3   3 a  30
## 4   4 b  40
## 5   5 a  50
## 6   6 b  60
## 7   7 a  70
## 8   8 b  80
## 9   9 a  90
## 10 10 b 100</code></pre></div>
<p>You can view the Data Frame by clicking on the object in the <strong>Environment</strong> window or by executing the command <code>View(data)</code></p>
<p>Notice that it created three columns labeled “id”, “x”, and “y”. Also notice that since we only specified a vector of length 2 for “x” this column is coerced into 10 rows of repeateding “a” and “b”. All columns in a dataframe need to have the same number of rows.</p>
<p>You can use the <code>$</code> notation to reference just one of the columns in the dataframe</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data<span class="op">$</span>y
##  [1]  10  20  30  40  50  60  70  80  90 100</code></pre></div>
<p>Alternatively you can use</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data[<span class="st">&quot;y&quot;</span>]
##      y
## 1   10
## 2   20
## 3   30
## 4   40
## 5   50
## 6   60
## 7   70
## 8   80
## 9   90
## 10 100</code></pre></div>
<p>To reference only certain rows within a column</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="st">&quot;y&quot;</span>]
## [1] 10 20 30 40 50
data<span class="op">$</span>y[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]
## [1] 10 20 30 40 50</code></pre></div>
</div>
</div>
<div id="ifthen-statements" class="section level2">
<h2><span class="header-section-number">2.2</span> If…then Statements</h2>
<p>If…then statements are useful for when you need to execute code only if a certain statement is TRUE. For instance,…</p>
<p>First we need to know how to perform logical operations in R</p>
<p>Okay, we have this variable <code>a</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">5</span></code></pre></div>
<p>Now let’s say we want to determine if the value of <code>a</code> is greater than 3</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>
## [1] TRUE</code></pre></div>
<p>You can see that the output of this statement <code>a &gt; 3</code> is <code>TRUE</code></p>
<p>Here is a list of logical operations in R</p>
<p><img src="images/logical-operations.png" width="200" /></p>
<p>Now let’s write an if…then statement. If <code>a</code> is greater than 3, then multiply <code>a</code> by 2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (a<span class="op">&gt;</span><span class="dv">3</span>){
  a &lt;-<span class="st"> </span>a<span class="op">*</span><span class="dv">2</span>
}
a
## [1] 10</code></pre></div>
<p>The expression that is being tested is contained in parentheses, right after the <code>if</code> statement. If this expression is evaluated as <code>TRUE</code> then it will perform the next line(s) of code.</p>
<p>The <code>{</code> is just a way of encasing multiple lines of code within one if statement. The lines of code then need to be closed of with <code>}</code>. In this case, since we only had one line of code <code>b &lt;- a*2</code> we could have just written it as.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">5</span>
<span class="cf">if</span> (a<span class="op">&gt;</span><span class="dv">3</span>) a &lt;-<span class="st"> </span>a<span class="op">*</span><span class="dv">2</span>
a
## [1] 10</code></pre></div>
<p>What if we want to do something to <code>a</code> if <code>a</code> is NOT greater than 3? In other words… if <code>a</code> is greater than 3, then multiple <code>a</code> by 2 else set <code>a</code> to <code>missing</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">5</span>
<span class="cf">if</span> (a<span class="op">&gt;</span><span class="dv">3</span>){
  a &lt;-<span class="st"> </span>a<span class="op">*</span><span class="dv">2</span>
} <span class="cf">else</span> {
  a &lt;-<span class="st"> </span><span class="ot">NA</span>
}
a
## [1] 10</code></pre></div>
<p>You can keep on chaining if…then… else… if… then statements together.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">5</span>
<span class="cf">if</span> (<span class="kw">is.na</span>(a)){
  <span class="kw">print</span>(<span class="st">&quot;Missing Value&quot;</span>)
} <span class="cf">else</span> <span class="cf">if</span> (a<span class="op">&lt;</span><span class="dv">0</span>){
  <span class="kw">print</span>(<span class="st">&quot;A is less than 0&quot;</span>)
} <span class="cf">else</span> <span class="cf">if</span> (a<span class="op">&gt;</span><span class="dv">3</span>){
  <span class="kw">print</span>(<span class="st">&quot;A is greater than 3&quot;</span>)
}
## [1] &quot;A is greater than 3&quot;</code></pre></div>
</div>
<div id="for-loops" class="section level2">
<h2><span class="header-section-number">2.3</span> For Loops</h2>
<p>For loops allow you iterate the same line of code over multiple instances.</p>
<p>Let’s say we have a vector of numerical values</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">c &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">8</span>,<span class="dv">2</span>,<span class="dv">9</span>)
c
## [1] 1 6 3 8 2 9</code></pre></div>
<p>and want perform an if…then operation on each of the elements. Let’s use the same if…then statement we used above. If the element is greater than 3, then multiply it by 2 - else set it to missing. Let’s put the results of this if…then statement into a new vector <code>d</code></p>
<p>What we need to do is <strong>loop</strong> this if…then statement <strong>for</strong> each element in <code>c</code></p>
<p>We can start out by writing the for loop statement</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(c)){
  
}</code></pre></div>
<p>This is how it works. The statement inisde of parathenses after <code>for</code> contains two statements separated by <code>in</code>. The first statement is the variable that is going to change it’s value over each iteration of the <code>loop</code>. <strong>You can name this whatever you want</strong>. In this case I chose the label <code>i</code>. The second statement defines all the values that will be used at each iteration. The second statement will always be a vector. In this case the vector is <code>seq_along(c)</code>.</p>
<p><code>seq_along()</code> is a function that creates a vector that contains a sequence of numbers from 1 to the length of the object. In this case the object is the vector <code>c</code>, which has a length of <code>6</code> elements. Therefore <code>seq_along(c)</code>, creates a vector containing 1, 2, 3, 4, 5, 6.</p>
<p>The <code>for</code> <code>loop</code> will start with <code>i</code> defined as <code>1</code>, then on the next iteration the value of <code>i</code> will be <code>2</code> … and so until the last element of <code>seq_along(c)</code>, which is <code>6</code>. We can see how this is working by printing ‘i’ on each iteration.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(c)){
 <span class="kw">print</span>(i) 
}
## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5
## [1] 6</code></pre></div>
<p>You can see how on each iteration it prints the values of <code>seq_along(c)</code> from the first element to the last element.</p>
<p>What we will want to do is, on each iteration of the for loop, access the <code>i</code>th element of the vector <code>c</code>.</p>
<p>Recall, you can access the element in a vector with <code>[ ]</code>, for instance <code>c[1]</code>. Let’s print each <code>i</code>th element of <code>c</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(c)){
 <span class="kw">print</span>(c[i]) 
}
## [1] 1
## [1] 6
## [1] 3
## [1] 8
## [1] 2
## [1] 9</code></pre></div>
<p>Now instead of printing <code>i</code> the for loop is printing each element of vector <code>c</code>.</p>
<p>Let’s use the same if…then statement as above</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="dv">5</span>
<span class="cf">if</span> (a<span class="op">&gt;</span><span class="dv">3</span>){
  a &lt;-<span class="st"> </span>a<span class="op">*</span><span class="dv">2</span>
} <span class="cf">else</span> {
  a &lt;-<span class="st"> </span><span class="ot">NA</span>
}
a
## [1] 10</code></pre></div>
<p>But instead we need to replace a with <code>c[i]</code></p>
<p>For now let’s just <code>print()</code> the output of the if… then statement.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(c)){
  <span class="cf">if</span> (c[i] <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>){
    <span class="kw">print</span>(c[i]<span class="op">*</span><span class="dv">2</span>)
  } <span class="cf">else</span> {
    <span class="kw">print</span>(<span class="ot">NA</span>)
  }
}
## [1] NA
## [1] 12
## [1] NA
## [1] 16
## [1] NA
## [1] 18</code></pre></div>
<p>Now for each element in <code>c</code>, if it is is greater than 3, then multiply it by 2 - else set as missing value. You can see that on each iteration the output is either the <code>i</code>th element of c multiplied by 2 or <code>NA</code>.</p>
<p>But just printing things to the console is useless! Let’s overwright the old values in <code>c</code> with the new values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(c)){
  <span class="cf">if</span> (c[i] <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>){
    c[i] &lt;-<span class="st"> </span>c[i]<span class="op">*</span><span class="dv">2</span>
  } <span class="cf">else</span> {
    c[i] &lt;-<span class="st"> </span><span class="ot">NA</span>
  }
}</code></pre></div>
<p>But what if we want to preserve the original vector <code>c</code>? Well we need to put it into a new vector, let’s call it vector <code>d</code>. This get’s a little more complicated but is something you might find yourself doing fairly often so it is good to understand how this works.</p>
<p>But if you are goind to do this to a “new” vector that is not yet created you will run into an error.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">c &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">8</span>,<span class="dv">2</span>,<span class="dv">9</span>)
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(c)){
  <span class="cf">if</span> (c[i] <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>){
    d[i] &lt;-<span class="st"> </span>c[i]<span class="op">*</span><span class="dv">2</span>
  } <span class="cf">else</span> {
    d[i] &lt;-<span class="st"> </span><span class="ot">NA</span>
  }
}</code></pre></div>
<p>You first need to create vector <code>d</code> - in this case we can create an empty vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d &lt;-<span class="st"> </span><span class="kw">c</span>()</code></pre></div>
<p>So the logic of our for loop, if…then statement is such that; on the <code>i</code>th iteration - if <code>c[i]</code> is greater than 3, then set <code>d[i]</code> to <code>c[i]*2</code> - else set <code>d[i]</code> to <code>NA</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">c &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">8</span>,<span class="dv">2</span>,<span class="dv">9</span>)
d &lt;-<span class="st"> </span><span class="kw">c</span>()
<span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(c)){
  <span class="cf">if</span> (c[i] <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>){
    d[i] &lt;-<span class="st"> </span>c[i]<span class="op">*</span><span class="dv">2</span>
  } <span class="cf">else</span> {
    d[i] &lt;-<span class="st"> </span><span class="ot">NA</span>
  }
}

c
## [1] 1 6 3 8 2 9
d
## [1] NA 12 NA 16 NA 18</code></pre></div>
<p>Yay! Good job.</p>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">2.4</span> Functions</h2>
<p>Basically anything you do in R is by using <strong>functions</strong>. In fact, learning R is just learning what functions are available and how to use them. Not much more to it than that.</p>
<p>You have only seen a couple of functions at this point. In this chapter, a common function used was <code>c()</code>. This function simply concatenates a series of numerical or string values into a vector. <code>c(1,6,3,7)</code>.</p>
<p>Functions start with the name of the function followed by parentheses <code>function_name()</code>. Inside the <code>()</code> is where you specify certain arguments separted by commas <code>,</code> . Some argruments are optional and some are required for the function to work.</p>
<p>For example, another function you saw last chapter was <code>data.frame()</code>. This function creates a dataframe with the columns specified by arguments.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data.frame</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">x =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="dt">y =</span> <span class="kw">seq</span>(<span class="dv">10</span>,<span class="dv">100</span>, <span class="dt">by =</span> <span class="dv">10</span>))
##    id x   y
## 1   1 a  10
## 2   2 b  20
## 3   3 a  30
## 4   4 b  40
## 5   5 a  50
## 6   6 b  60
## 7   7 a  70
## 8   8 b  80
## 9   9 a  90
## 10 10 b 100</code></pre></div>
<p>The arguments <code>id</code>, <code>x</code>, and <code>y</code> form the columns in the dataframe. These arguments themselves used functions. For instance <code>y</code> used the function <code>seq()</code>. This function creates a sequence of numbers in a certain range at a given interval. Sometimes arguments are not defined by an <code>=</code>. The first two arguments in in <code>seq()</code> specify the range of 10 to 100. The third argument <code>by</code> specified the interval to be 10. So <code>seq(10, 100, by = 10)</code> creates a sequence of numbers ranging from 10 to 100 in intervals of 10.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dt">by =</span> <span class="dv">10</span>)
##  [1]  10  20  30  40  50  60  70  80  90 100</code></pre></div>
<p>In the <code>seq()</code> function the <code>by</code> argument is not required. This is because there is a default <code>by</code> value of 1.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dv">10</span>, <span class="dv">100</span>)
##  [1]  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26
## [18]  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41  42  43
## [35]  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60
## [52]  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77
## [69]  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94
## [86]  95  96  97  98  99 100</code></pre></div>
<p>Obviously if you want to specify a different interval, then you will need to specify <code>by =</code>.</p>
<div id="creating-your-own-functions" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Creating Your Own Functions</h3>
<p>This section is optional. It will go over how to create your own functions.</p>
<p>Even if you do not want to get too proficient in R, it can be a good idea to know how to create your own function. It also helps you better understand how functions actaully work.</p>
<p>We are going to create a function that calculates an average of values.</p>
<p>To define a function you use the <code>function()</code> and assign the output of <code>function()</code> to an object, which becomes the name of the function. For instance,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">function_name &lt;-<span class="st"> </span><span class="cf">function</span>(){
  
}</code></pre></div>
<p>This is a blank function so it is useless. Before we put stuff inside of a function let’s work out the steps to calculate an average.</p>
<p>Let’s say we have an array <code>a</code> that has 10 elements</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">7</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">8</span>,<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">2</span>,<span class="dv">4</span>)
a
##  [1] 1 7 4 3 8 8 7 9 2 4</code></pre></div>
<p>To calculate an average we want to take the sum of all the values in <code>a</code> and divide it by the number of elements in <code>a</code>. To do this we can use the <code>sum()</code> and <code>length()</code> functions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(a)
## [1] 53
<span class="kw">length</span>(a)
## [1] 10

<span class="kw">sum</span>(a)<span class="op">/</span><span class="kw">length</span>(a)
## [1] 5.3</code></pre></div>
<p>Easy! So now we can just put this into a function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">average &lt;-<span class="st"> </span><span class="cf">function</span>(x){
  avg &lt;-<span class="st"> </span><span class="kw">sum</span>(x)<span class="op">/</span><span class="kw">length</span>(x)
  <span class="kw">return</span>(avg)
}</code></pre></div>
<p>When creating a function, you need to specify what input arguments the function is able to take. Here were are specifying the argument <code>x</code>. You can use whatever letter or string of letters you want, but a common notation is to use <code>x</code> for the object that is going to be evaluated by the function. Then, inside the function we use the same letter <code>x</code> to calculate the <code>sum()</code> and <code>length()</code> of <code>x</code>. What this means is that <strong>Arguments specified in a function become objects (or variables) passed inside the function</strong></p>
<p>You can create new objects inside a function. For instance we are creating an object, <code>avg</code>. However, these objects are created only inside the environment of the function. You cannot use those objects outside the function and they will not appear in your Environment window. To pass the value of an object outside of the function, you need to specify what you want to <code>return()</code> or what is the outpute of the function. In this case it is the object <code>avg</code> that we created inside the function.</p>
<p>Let’s see the function in action</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">average</span>(a)
## [1] 5.3</code></pre></div>
<p>Cool! You created your first function. Becuase the function only takes one argument <code>x</code> it knows that whatever object we specify in <code>average()</code> is the object we want to evaluate.</p>
<p>But what if our vector contains missing values?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="ot">NA</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">7</span>,<span class="ot">NA</span>,<span class="dv">8</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">3</span>)
<span class="kw">average</span>(b)
## [1] NA</code></pre></div>
<p>Uh oh. Here the vector <code>b</code> contains two missing values and the function <code>average(b)</code> returns <code>NA</code>. This is becuase in our function we use the function <code>sum()</code> without specifiying to ignore missing values. If you type in the console <code>?sum</code> you will see that there is an argument to specify whether missing values should be removed or not. The default value of this argument is <code>FALSE</code> so if we want to remove the missing values we need to specify <code>na.rm = TRUE</code>.</p>
<p>It is a good idea to make your functions as flexible as possible. Allow the user to decide what they want to happen. For instance, it might be the case that the user wants a value of <code>NA</code> returned when a vector contains missing values. So we can add an argument to our <code>average()</code> function that allows the user to decide what they want to happen; ignore missing values or return <code>NA</code> if missing values are present.</p>
<p>Let’s label this argument <code>na.ignore</code>. We could label it <code>na.rm</code> like the <code>sum()</code> function but for the sake of this Tutorial I want you to learn that you can label these arguments however you want, it is arbitrary. The label should make sense however.</p>
<p>Before we write the function let’s think about what we need to change inside the function. Basically we want our new argument <code>na.ignore</code> to change the value of <code>na.rm</code> in the <code>sum()</code> function. If <code>na.ignore</code> is <code>TRUE</code> then we want <code>na.rm = TRUE</code>. Remember that arguments become objects inside of a function. So we will want to change:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avg &lt;-<span class="st"> </span><span class="kw">sum</span>(x)<span class="op">/</span><span class="kw">length</span>(x)</code></pre></div>
<p>to</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">avg &lt;-<span class="st"> </span><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> na.ignore)<span class="op">/</span><span class="kw">length</span>(x)</code></pre></div>
<p>Let’s try this out on our vector <code>b</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">na.ignore &lt;-<span class="st"> </span><span class="ot">TRUE</span>
<span class="kw">sum</span>(b, <span class="dt">na.rm =</span> na.ignore)<span class="op">/</span><span class="kw">length</span>(b)
## [1] 3.8</code></pre></div>
<p>We can test if our average function is calculating this correctly by using the actual base R function <code>mean()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(b, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
## [1] 4.75</code></pre></div>
<p>Uh oh. We are getting different values. This is because <code>length()</code> is also not ignoring missing values. The length of <code>b</code>, is 10. The length of <code>b</code> ignoring missing values is 8.</p>
<p>Unfortunately, <code>length()</code> does not have an argument to specify we want to ignore missing values. How we can tell <code>length()</code> to ignore missing values is by</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(b[<span class="op">!</span><span class="kw">is.na</span>(b)])
## [1] 8</code></pre></div>
<p>This is saying, evaluate the length of elements in <code>b</code> that are not missing.</p>
<p>Now we can modify our function with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">na.ignore &lt;-<span class="st"> </span><span class="ot">TRUE</span>
<span class="kw">sum</span>(b, <span class="dt">na.rm =</span> na.ignore)<span class="op">/</span><span class="kw">length</span>(b[<span class="op">!</span><span class="kw">is.na</span>(b)])
## [1] 4.75</code></pre></div>
<p>to get</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">average &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">na.ignore =</span> <span class="ot">FALSE</span>){
  avg &lt;-<span class="st"> </span><span class="kw">sum</span>(x, <span class="dt">na.rm =</span> na.ignore)<span class="op">/</span><span class="kw">length</span>(x[<span class="op">!</span><span class="kw">is.na</span>(x)])
  <span class="kw">return</span>(avg)
}</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">average</span>(b, <span class="dt">na.ignore =</span> <span class="ot">TRUE</span>)
## [1] 4.75</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(b, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
## [1] 4.75</code></pre></div>
<p>Walla! You did it. You created a function. Notice that we set the default value of <code>na.ignore</code> to <code>FALSE</code>. If we had set it as <code>TRUE</code> then we would not need to specify <code>average(na.ignore = TRUE)</code> since <code>TRUE</code> would have been the default.</p>
<p><strong>When using functions it is important to know what the default values are</strong></p>
<p><strong>Both for loops and functions allow you to write more concise and readable code.</strong> If you are copying and pasting the same lines of code with only small modification, you can probably write those lines of code in a for loop or a function.</p>
</div>
</div>
<div id="r-packages" class="section level2">
<h2><span class="header-section-number">2.5</span> R Packages</h2>
<p>R comes with a basic set of functions. All the functions we have used so far are part of the R basic functions. But when you want to start doing more complex operations it would be nice to have more complex functions. This is where R Packages come in…</p>
<p>An R Package is simply a collection of functions - that usually have some common theme to them. <strong>Now the most wonderful thing about R is that other R users have developed tons of packages with functions they created themselves</strong>. For instance, a group of users have developed an R package called <code>lavaan</code> that makes it extremely easy to conduct SEM in R.</p>
</div>
<div id="installing-and-loading-r-packages" class="section level2">
<h2><span class="header-section-number">2.6</span> Installing and Loading R Packages</h2>
<p>R packages are easy to install and load. You just need to know the name of the package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;name_of_package&quot;</span>)</code></pre></div>
<p>or for multiple packages at once</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;package1&quot;</span>, <span class="st">&quot;package2&quot;</span>, <span class="st">&quot;package3&quot;</span>))</code></pre></div>
<p>Installing the package does not mean you can start using the functions. To be able to use the function you need to then load the package library of functions as such</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(name_of_package)</code></pre></div>
<p>When loading packages you do not have to incase the package name in <code>&quot; &quot;</code></p>
</div>
<div id="more-r-basic-resources" class="section level2">
<h2><span class="header-section-number">2.7</span> More R Basic Resources</h2>
<ul>
<li>For additional tips in the basics of coding R see:</li>
</ul>
<p><a href="https://ramnathv.github.io/pycon2014-r/visualize/README.html" class="uri">https://ramnathv.github.io/pycon2014-r/visualize/README.html</a></p>
<p><a href="https://www.datacamp.com/courses/free-introduction-to-r/?tap_a=5644-dce66f&amp;tap_s=10907-287229" class="uri">https://www.datacamp.com/courses/free-introduction-to-r/?tap_a=5644-dce66f&amp;tap_s=10907-287229</a></p>
<p><a href="http://compcogscisydney.org/psyr/" class="uri">http://compcogscisydney.org/psyr/</a></p>
<p><a href="http://r4ds.had.co.nz/workflow-basics.html" class="uri">http://r4ds.had.co.nz/workflow-basics.html</a></p>
<ul>
<li>To learn about creating your own functions see</li>
</ul>
<hr />
<p><strong>We are almost ready to start working with some data, but first we need to go over functions and R packages</strong></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="installation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="workflow.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper", "github"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
